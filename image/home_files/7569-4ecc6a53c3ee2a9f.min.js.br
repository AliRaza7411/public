"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="37c5652d-2307-59e6-8f87-cd77cc85dcef")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[7569],{279290:(e,t,a)=>{a.d(t,{dV:()=>V});var l=a(411855),o=a(188507),r=a(629019),n=a.n(r),d=a(539321),i=a(568214),c=a(374626),s=a(646240),m=a(743282),p=a(946689),_=a(659838),u=a(574176),h=a(939863),E=a(809840),b=a(662275),f=a(672517),g=a(809831),w=a(168039),T=a(774191),v=a(852800),C=a(29680),k=a(860178),x=a(984968),A=a(694241),D=a(239671),y=a(498606),I=a(143678),N=a(237870),L=a(585878),P=a(184184),M=a(676938),O=a(42173),z=a(948529),S=a(96913),J=a(684690),F=a(225719);let R="edit_color_palette_modal--modalLabel--AVogh text--fontPos11--2LvXf text--_fontBase--QdLsd",B="edit_color_palette_modal--colorCircleOuter--ZJqke";var W=a(8595);function X({onSave:e,onCancel:t,palette:a,enableSubmitWithNoChanges:r}){let f=(0,o.wA)(),[C,I]=l.useState((null==a?void 0:a.name)||""),[N,L]=(0,c.fp)(F.Jq),X=l.useMemo(()=>(null==a?void 0:a.baseColors)||O.xC,[a]),[Y,$]=(0,c.fp)(F.rN),H=(0,s.Xr)(P.B),G="whiteboard"===(0,g.lg)(),K="dark"!==(0,w.DP)()||G?"light":"dark",Q=!(0,i.$K)(X,Y)||r,[U,q]=l.useState(!1);l.useEffect(()=>(L(-1),$(X),H(v.cxo.EDIT_PALETTE_MODAL),()=>{L(-1),$(X),H(v.cxo.SELECTION)}),[L,$,H,X]);let j=(0,o.d4)(e=>{let t=e.selectedView;return"fullscreen"!==t.view||t.editorType!==D.nT.Whiteboard}),Z=l.useCallback(e=>{$([...Y,e])},[Y,$]),ee=l.useCallback((e,t)=>{$([...Y.slice(0,e),t,...Y.slice(e+1)])},[Y,$]),et=e=>{$([...Y.slice(0,e),...Y.slice(e+1)])},ea=()=>{L(-1)},el=l.useCallback(e=>{f(b.$O({type:V.type,data:{palette:{uuid:e,name:C,baseColors:Y},enableSubmitWithNoChanges:!0}}))},[f,C,Y]),eo=(0,x.cD)(),er=(0,k.TA)(),en=(0,J.Bw)(),ed=l.useCallback(()=>{let t=Y.some((e,t)=>Y.some((a,l)=>t!==l&&(0,i.DA)(e,a)));if(q(t),t)return;let l=Y.map(e=>(0,d.colorToHex)(e,1));if(C&&er&&l.length){let t=(null==a?void 0:a.uuid)||(0,m.g)();a?(0,F.NK)({name:C,teamId:eo,baseColors:l,uuid:t},f,()=>el(t)):((0,F.cl)({name:C,teamId:eo,uuid:t,baseColors:l,creatorId:er,isTeamDefault:!1,canRead:!0},f,()=>el(t)),en(t,l.length,!0)),e()}},[Y,C,er,a,e,eo,f,el,en]),ei=l.useMemo(()=>Array(Y.length).fill(null).map(e=>l.createRef()),[Y.length]),ec=l.createRef();ei.push(ec);let es=e=>{if(-1!==N){for(let t of ei)if(t&&t.current&&(0,M.z)(e.target,t.current))return;ea()}},em=function(e){let t=(0,i.tK)(i.ol.MULTIPLAYER_PURPLE)||i.Uv;if(!e)return t;let a=(0,T.oB)(e),l=360*a.h,o={...a,h:(l+40)%360/360};return(0,T.In)(o)}(Y.length>0?Y[Y.length-1]:null),ep=Y.length>=A.I_,e_=C&&C.trim()&&Y.length>0&&(!a||Q||C!==a.name);return l.createElement("div",{className:"edit_color_palette_modal--modalInner--E56DH",role:"none",onClick:e=>{es(e)}},l.createElement("p",{className:R},(0,h.tx)("whiteboard.color_palettes.modal.name")),l.createElement("div",{className:"edit_color_palette_modal--nameInput--iRWoM text--fontPos11--2LvXf text--_fontBase--QdLsd"},l.createElement(_.L,{placeholder:(0,h.t)("whiteboard.color_palettes.modal.palette_name"),value:C||"",onChange:e=>{I(e.target.value)},maxLength:100,height:16,dataTestId:"palette-name-input"})),l.createElement("div",{className:"edit_color_palette_modal--container--A64hb"},l.createElement("p",{className:R},(0,h.tx)("whiteboard.color_palettes.modal.colors")),l.createElement("p",{className:"edit_color_palette_modal--modalDescription--SeVmv text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,h.tx)("whiteboard.color_palettes.modal.choose_up_to_9_colors")),U&&l.createElement("p",{className:"edit_color_palette_modal--modalDescriptionError--W6hs7 text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,h.tx)("whiteboard.color_palettes.modal.duplicate_colors")),l.createElement("div",{className:"edit_color_palette_modal--colorPaletteContainer--aQ-En"},Y.map((e,t)=>l.createElement("div",{className:B,ref:ei[t],key:"wrapper"+e+"-"+t},l.createElement("button",{className:n()({"edit_color_palette_modal--deleteColorButton--rWqOY":!0,"edit_color_palette_modal--deleteColorButtonDisabled--dwsFr":N===t}),onClick:()=>et(t),"data-testid":`delete-color-button-${t}`},l.createElement(u.B,{svg:W.A,height:"16px",width:"16px",autosize:!0})),l.createElement(S.v,{target:l.createElement(z.cd,{key:e+"-"+t,size:"large",value:e,selectionState:N===t?"selected":"unselected",onClick:()=>{L(t)},paletteType:"base",background:"light"}),color:e,onColorChange:e=>ee(N,e),theme:K,isOpen:N===t,onClose:()=>ea(),dropperDisabled:j}))),!ep&&l.createElement("div",{className:B,ref:ec,"data-tooltip-type":y.Ib.TEXT,"data-tooltip":(0,h.t)("whiteboard.color_palettes.modal.add_color")},l.createElement(z.HL,{size:"large",value:z.WW,swatchStyle:{boxShadow:"0px 0px 0px 1px rgba(0, 0, 0, 0.2) inset"},onClick:()=>{L(Y.length),Z(em)},dataTestId:"add-color-button",fallbackSvg:z.xY})))),l.createElement("div",{className:"edit_color_palette_modal--modalFooter--z4uvF"},l.createElement(E.E,{color:"secondary"},(0,h.tx)("whiteboard.color_palettes.modal.palettes_visible_to_everyone")),l.createElement(p.tM,{onClick:t},(0,h.tx)("whiteboard.color_palettes.modal.cancel")),l.createElement(p.vd,{disabled:!e_,type:"submit",onClick:ed,dataTestId:"save-button"},(0,h.tx)("whiteboard.color_palettes.modal.save_palette"))))}let V=(0,N.Ju)(function({palette:e,enableSubmitWithNoChanges:t}){let a=(0,o.wA)(),r=(0,k.TA)(),d=(0,x.cD)(),i=(0,C.dH)(),s=(0,c.md)(P.B),m=i===v.NLJ.DROPPER_COLOR&&s===v.cxo.EDIT_PALETTE_MODAL,p=l.useCallback(()=>{a(b.Lo())},[a]),_=l.useCallback(e=>{e.stopPropagation(),p()},[p]),u=e?(0,h.t)("whiteboard.color_palettes.modal.edit_palette"):(0,h.t)("whiteboard.color_palettes.modal.create_palette");return l.createElement("div",{className:n()("edit_color_palette_modal--headerModalTransitionContainer--C-CFV",{"edit_color_palette_modal--hidden--EDk-H":m})},l.createElement(f.fu,{name:I.e0.FIGJAM_EDIT_PALETTE_MODAL,properties:{userId:r,teamId:d,type:e?"edit palette":"new palette"}},l.createElement(L.XV,{title:u,onClose:_,minWidth:390,maxWidth:390,closeOnEsc:!0,onBackgroundMouseDown:e=>{e.stopPropagation()},disableClickOutsideToHide:!0},l.createElement(X,{onSave:p,onCancel:p,palette:e,enableSubmitWithNoChanges:t}))))},"EditColorPaletteModal")},557569:(e,t,a)=>{a.d(t,{j:()=>S});var l=a(411855),o=a(188507),r=a(752553),n=a(498480),d=a(946689),i=a(493323),c=a(939863),s=a(175290),m=a(662275),p=a(672517),_=a(775664),u=a(860178),h=a(279453),E=a(984968),b=a(694241),f=a(498606),g=a(143678),w=a(237870),T=a(227795),v=a(585878),C=a(488578),k=a(225719),x=a(321112);let A=(0,w.Ju)(function({paletteUuid:e}){let t=(0,o.wA)();return l.createElement(C.Rw,{size:300,confirmText:(0,c.t)("whiteboard.color_palettes.modal.delete_color_palette_button"),confirmationTitle:(0,c.t)("whiteboard.color_palettes.modal.delete_color_palette_confirmation_modal_title"),popStack:!0,destructive:!0,onConfirm:()=>{(0,k.RN)(e,t)}},l.createElement("div",{className:x.jE},(0,c.tx)("whiteboard.color_palettes.modal.delete_color_palette_confirmation_modal_content")))},"DeleteColorPaletteConfirmationModal");var D=a(42173),y=a(948529),I=a(684690),N=a(279290);let L=(0,w.Ju)(function({paletteName:e,paletteUuid:t}){let a=(0,o.wA)(),r=(0,E.cD)(),n=(0,o.d4)(e=>{var t;return null==(t=e.teams[r])?void 0:t.name});return n||console.error("No team name found for team id",r),l.createElement(C.Rw,{size:360,confirmationTitle:(0,c.t)("whiteboard.color_palettes.make_default_confirmation_modal.title"),confirmText:(0,c.t)("whiteboard.color_palettes.make_default_confirmation_modal.confirm_button"),content:(0,c.t)("whiteboard.color_palettes.make_default_confirmation_modal.description",{teamName:n,paletteName:e||(0,c.t)("whiteboard.color_palettes.make_default_confirmation_modal.this_palette")}),onConfirm:()=>{t===b.fJ?(0,k.In)(r,a):(0,k.dq)(r,t,a)},popStack:!0})},"MakePaletteTeamDefaultConfirmationModal");var P=a(163056),M=a(378789);function O({showMakeDefaultButton:e}){let t=(0,E.cD)(),a=(0,o.wA)(),[n]=(0,r.IT)((0,h.iP2)({teamId:t}),{enabled:!!t});return l.createElement("div",{className:"manage_color_palettes_modal--modalInner--xXl4-"},l.createElement("div",{className:"manage_color_palettes_modal--modalHeader--nG1fV"},(0,c.tx)("whiteboard.color_palettes.manage_modal.manage_your_teams_color_palettes"),l.createElement(d.vd,{onClick:()=>{a(m.$O({type:N.dV.type}))},dataTestId:"create-color-palette-button"},(0,c.tx)("whiteboard.color_palettes.manage_modal.create_new_palette"))),l.createElement("div",{className:"manage_color_palettes_modal--paletteRowsOuter--d2OIk"},"loaded"===n.status&&n.data.colorPalettesForTeam?l.createElement(l.Fragment,null,l.createElement(z,{key:b.fJ,palette:{uuid:b.fJ,name:(0,c.t)("whiteboard.color_palettes.figjam_colors"),baseColors:(0,D.TS)("base").map(e=>_.z5.format(e)),isTeamDefault:n.data.colorPalettesForTeam.every(e=>!e.isTeamDefault)},showMakeDefaultButton:e}),n.data.colorPalettesForTeam.map(t=>l.createElement(z,{key:t.uuid,palette:t,showMakeDefaultButton:e}))):l.createElement(i.kt,{size:"medium",testId:"manage-palettes-modal-loading-spinner"})))}function z({palette:e,showMakeDefaultButton:t}){let a=(0,o.wA)(),r=e.uuid===b.fJ,i=e.name||(0,c.t)("whiteboard.color_palettes.unnamed_palette");return l.createElement(s.Y,{width:"fill-parent",direction:"vertical",spacing:"4px"},l.createElement(s.Y,{direction:"horizontal",spacing:"8px"},l.createElement("div",null,i),e.isTeamDefault&&l.createElement(n.Ex,{color:n.zE.FIGJAM,text:(0,c.t)("whiteboard.color_palettes.manage_modal.default"),subtle:!0})),l.createElement(s.Y,{direction:"horizontal",width:"fill-parent",horizontalAlignItems:"space-between"},l.createElement(s.Y,{direction:"horizontal",width:"hug-contents",spacing:"0px"},e.baseColors.map(e=>l.createElement(y.cd,{key:e,value:_.z5.parse(e),paletteType:"base",background:"light"}))),l.createElement(s.Y,{direction:"horizontal",width:"hug-contents",spacing:"8px"},!r&&l.createElement(l.Fragment,null,l.createElement(T.K0,{svg:P.A,onClick:()=>{a(m.$O({type:N.dV.type,data:{palette:{uuid:e.uuid,name:e.name,baseColors:(0,I.$v)(null==e?void 0:e.baseColors),isTeamDefault:e.isTeamDefault}}}))},dataTestId:"edit-color-palette-button-"+e.uuid,"data-tooltip-type":f.Ib.TEXT,"data-tooltip":(0,c.t)("whiteboard.color_palettes.modal.edit_palette_tooltip")}),l.createElement(T.K0,{svg:M.A,onClick:()=>{a(m.$O({type:A.type,data:{paletteUuid:e.uuid}}))},dataTestId:"delete-color-palette-button-"+e.uuid,"data-tooltip-type":f.Ib.TEXT,"data-tooltip":(0,c.t)("whiteboard.color_palettes.modal.delete_color_palette_tooltip")})),t&&l.createElement(d.tM,{disabled:e.isTeamDefault,onClick:()=>{a(m.$O({type:L.type,data:{paletteUuid:e.uuid,paletteName:e.name}}))},dataTestId:"make-palette-team-default-button-"+e.uuid},(0,c.tx)("whiteboard.color_palettes.modal.set_default")))))}let S=(0,w.Ju)(function({showMakeDefaultButton:e,entryPoint:t}){let a=(0,o.wA)(),r=(0,u.TA)(),n=(0,E.cD)(),d=l.useCallback(()=>{a(m.ES(S))},[a]),i=l.useCallback(e=>{e.stopPropagation(),d()},[d]),s=e?508:417;return l.createElement(p.fu,{name:g.e0.FIGJAM_MANAGE_PALETTES_MODAL,properties:{entryPoint:t,userId:r,teamId:n}},l.createElement(v.XV,{title:(0,c.t)("whiteboard.color_palettes.manage_modal.color_palettes"),onClose:i,minWidth:s,maxWidth:s,allowScroll:!0,containerClassName:"manage_color_palettes_modal--modal--7EFs-",closeOnEsc:!0},l.createElement(O,{showMakeDefaultButton:e})))},"ManageColorPalettesModal")}}]);

//# debugId=37c5652d-2307-59e6-8f87-cd77cc85dcef

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/2842b265b288ab912c02d35086cf598df22d5945/7569-4ecc6a53c3ee2a9f.min.js.map