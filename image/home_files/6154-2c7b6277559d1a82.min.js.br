"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="c16b2acb-2b22-5b51-a644-0fe5b771df2d")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[6154],{203008:(e,t,l)=>{l.d(t,{$O:()=>c,Jv:()=>d,LP:()=>i,Ns:()=>a,TI:()=>r,rc:()=>o});var n=l(411855);function i(e){return n.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_8184_71416)"},n.createElement("rect",{width:"16",height:"16",fill:"var(--color-background)"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 10.5212L12 13.3883V2H4V13.3883L8 10.5212ZM3.5625 14.9322C3.33074 15.0983 3 14.9403 3 14.6634V1.67197C3 1.30085 3.3148 1 3.70312 1H12.2969C12.6852 1 13 1.30085 13 1.67197V14.6634C13 14.9403 12.6693 15.0983 12.4375 14.9322L8 11.7515L3.5625 14.9322Z",fill:e.fill||"var(--color-icon)"})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_8184_71416"},n.createElement("rect",{width:"16",height:"16",fill:"var(--color-background)"}))))}function a(e){return n.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_8174_71409)"},n.createElement("rect",{width:"16",height:"16",fill:"var(--color-background)"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5625 14.9322C3.33074 15.0983 3 14.9403 3 14.6634V1.67197C3 1.30085 3.3148 1 3.70312 1H12.2969C12.6852 1 13 1.30085 13 1.67197V14.6634C13 14.9403 12.6693 15.0983 12.4375 14.9322L8 11.7515L3.5625 14.9322Z",fill:e.fill||"var(--color-icon)"})),n.createElement("defs",null,n.createElement("clipPath",{id:"clip0_8174_71409"},n.createElement("rect",{width:"16",height:"16",fill:"var(--color-background)"}))))}function r(){return n.createElement("svg",{viewBox:"0 0 8 12",height:"100%",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 7.75L7 10V1H1V10L4 7.75ZM0.45 11.6625C0.26459 11.8016 0 11.6693 0 11.4375V0.5625C0 0.25184 0.25184 0 0.5625 0H7.4375C7.74816 0 8 0.25184 8 0.5625V11.4375C8 11.6693 7.73541 11.8016 7.55 11.6625L4 9L0.45 11.6625Z",fill:"var(--color-icon, black)"}))}function o(){return n.createElement("svg",{viewBox:"0 0 8 12",height:"100%",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M0 0.5625C0 0.25184 0.25184 0 0.5625 0H7.4375C7.74816 0 8 0.25184 8 0.5625V11.4375C8 11.6693 7.73541 11.8016 7.55 11.6625L4 9L0.45 11.6625C0.26459 11.8016 0 11.6693 0 11.4375V0.5625Z",fill:"var(--color-icon, black)"}))}function d(){return n.createElement("svg",{height:"100%",viewBox:"0 0 10 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 9.98876L9 13.2775V1.02772H1V13.2775L5 9.98876ZM0.609261 14.9148C0.363725 15.1167 0 14.937 0 14.6139V0.770787C0 0.345093 0.335786 0 0.75 0H9.25C9.66421 0 10 0.345093 10 0.770787V14.6139C10 14.937 9.63628 15.1167 9.39074 14.9148L5 11.3049L0.609261 14.9148Z",fill:"var(--color-icon, black)"}))}function c(){return n.createElement("svg",{height:"100%",viewBox:"0 0 10 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M0 0.770787C0 0.345093 0.335786 0 0.75 0H9.25C9.66421 0 10 0.345093 10 0.770787V14.6139C10 14.937 9.63628 15.1167 9.39074 14.9148L5 11.3049L0.609261 14.9148C0.363725 15.1167 0 14.937 0 14.6139V0.770787Z",fill:"var(--color-icon, black)"}))}},552993:(e,t,l)=>{l.d(t,{_W:()=>g,nN:()=>s});var n=l(411855),i=l(629019),a=l.n(i),r=l(939863),o=l(203008),d=l(498606),c=l(583718),u=l(179494),s=(e=>(e.DETAIL="detail",e.TILE="title",e.FIGJAM_PLUGIN_ROW="figjam_plugin_row",e))(s||{});function g(e){let{isSavedForUser:t,save:l,unsave:i}=(0,c.Q)(e.resourceId,e.resourceType);return n.createElement(p,{onClick:e=>{t?i():l(),e.stopPropagation()},isSaved:t,parentView:e.parentView,isFauxFocused:e.isFauxFocused})}function p(e){let t="title"===e.parentView?a()(u.YB,{[u.Xb]:!e.isSaved,[u.ez]:e.isSaved||!!e.isFauxFocused}):"figjam_plugin_row"===e.parentView?a()([u.k7,u._P],{[u.Xb]:!e.isSaved,[u.ez]:e.isSaved}):u.k7,{SaveIcon:l,SaveIconFilled:i}=n.useMemo(()=>"title"===e.parentView?{SaveIcon:o.TI,SaveIconFilled:o.rc}:{SaveIcon:o.Jv,SaveIconFilled:o.$O},[e.parentView]);return n.createElement("button",{className:t,onClick:e.onClick,"data-tooltip-type":d.Ib.TEXT,"data-tooltip":e.isSaved?(0,r.t)("community.saves.remove_from_saves"):(0,r.t)("community.saves.save")},n.createElement("div",null,e.isSaved?n.createElement(i,null):n.createElement(l,null)))}},583718:(e,t,l)=>{l.d(t,{B:()=>g,Q:()=>s});var n=l(411855),i=l(188507),a=l(499737),r=l(756085),o=l(269167),d=l(813648),c=l(279453),u=l(555328);function s(e,t){var l,s;let g=(0,r.Be)(),p=t===u.vt.PLUGIN?g.plugins[e]:g.widgets[e],m=(0,o.xp)(e),v=(0,o.aQ)(e),I=(0,i.d4)(t=>t.publishedPlugins[e]?m:v),E=(0,i.d4)(e=>e.currentUserOrgId),w=(0,a.Rs)(c.BB3,{orgId:E}),f=n.useMemo(()=>{var t,l,n;return null==(n=null==(l=null==(t=w.data)?void 0:t.currentUser)?void 0:l.installedPlugins.find(t=>t.pluginId===e))?void 0:n.id},[null==(s=null==(l=w.data)?void 0:l.currentUser)?void 0:s.installedPlugins,e]),{unsave:y,save:_}=(0,d._i)(e,t,I,f);return{unsave:y,save:_,isSavedForUser:!!(p&&"user"===p.installed_by),isSavedForOrg:!!(p&&"org"===p.installed_by),version:p}}function g(e){let t=!!e&&"user"===e.installed_by,l=!!e&&"org"===e.installed_by,{save:i,unsave:a}=(0,d._i)(e.plugin_id,u.vt.PLUGIN),r=n.useCallback((e,n)=>{l||(t?a(n):i(e,n))},[l,t,a,i]);return{isSavedForUser:t,isSavedForOrg:l,onSaveClick:r}}},76154:(e,t,l)=>{l.d(t,{Cg:()=>eh,GJ:()=>eG,R7:()=>em,dr:()=>ej,ff:()=>e_,tO:()=>eU,yG:()=>eZ});var n=l(411855),i=l(188507),a=l(629019),r=l.n(a),o=l(517333);if(443==l.j)var d=l(860601);var c=l(572174),u=l(563042),s=l(946689),g=l(723325),p=l(574176),m=l(348425),v=l(762638),I=l(939863),E=l(278733),w=l(175290),f=l(365292),y=l(408552),_=l(251288),C=l(829488),b=l(466636),h=l(545941),T=l(738269),R=l(931828),k=l(672517),F=l(802915),N=l(780700),B=l(756085),P=l(988022),D=l(269167),A=l(641638),x=l(662531),V=l(170786),S=l(318812),L=l(694687),O=l(99506),M=l(215822),U=l(555328),W=l(376485),j=l(498606),Z=l(18993),G=l(978527),$=l(464628),H=l(399932),z=l(933464),Y=l(943089),J=l(507956),Q=l(206074),K=l(227795),X=l(927206);if(443==l.j)var q=l(503733);var ee=l(33876),et=l(103567),el=l(552993),en=l(172226),ei=l(632788),ea=l(760445),er=l(76158),eo=l(179494),ed=l(292164),ec=l(362679),eu=l(13556);if(443==l.j)var es=l(665150);if(443==l.j)var eg=l(111431);var ep=l(237494),em=(e=>(e.COMMUNITY="community",e.RECENT="recent",e.DEVELOPMENT="development",e.DEVELOPMENT_MISSING_LOCAL="development_missing_local",e.ORG_PRIVATE="org_private",e.SAVED="saved",e.INVITED="invited",e))(em||{});function ev(e){var t,l;let a=(0,i.d4)(e=>e.orgById);if(e.resource.is_private){let i=(null==(t=e.resource)?void 0:t.org_id)&&(null==(l=a[e.resource.org_id])?void 0:l.name);return n.createElement(p.B,{svg:ep.A,className:eo.kQ,"data-tooltip-type":j.Ib.TEXT,"data-tooltip":i?(0,I.t)("community.plugins.private_for_plugin_org_name",{orgName:i}):(0,I.t)("community.plugins.private_for_plugin_org")})}return n.createElement(n.Fragment,null)}let eI=n.createContext(null);function eE(){return(0,c.sR)(n.useContext(eI),"Must be wrapped within <FdBrowseWidgetTileContext.Provider>")}let ew=n.createContext(null);function ef(){return(0,c.sR)(n.useContext(ew),"Must be wrapped within <FdBrowsePluginTileContext.Provider>")}function ey(e,t,l){let i=n.useRef(null),a=n.useCallback(()=>{i.current&&i.current.click()},[i]),{setKeyboardNavigationElement:r,isFauxFocused:o,keyboardNavigationItem:d}=(0,g.M3)({path:t||[0],fauxClick:a,id:e}),c=l&&t&&t.length>=2&&t[0]===ea.B6&&0===t[1];return n.useEffect(()=>{c&&(null==d||d.fauxFocus())},[c,d]),{setKeyboardNavigationElement:r,isFauxFocused:o,keyboardNavigationButtonRef:i}}function e_({resourceId:e,type:t,keyboardNavigationPath:l,shouldFocusFirstItem:i}){let a;let{activeTab:r,viewResource:o}=(0,ea.IT)(),d=(0,B.$1)(),c="development"===t?Object.values(d).find(t=>String(t.localFileId)===e):null,u=null==c?void 0:c.plugin_id,s=n.useCallback(()=>o({id:u??e}),[e,o,u]),g=n.useMemo(()=>r===er.s.WIDGET?{viewWidgetDetails:s,keyboardNavigationPath:l,shouldFocusFirstItem:i}:{viewPluginDetails:s,keyboardNavigationPath:l,shouldFocusFirstItem:i},[r,l,s,i]);if(r===er.s.WIDGET){switch(t){case"community":a=n.createElement(eL,{widgetId:e});break;case"recent":a=n.createElement(eD,{widgetId:e,type:"recent"});break;case"development":a=n.createElement(eV,{localFileId:e});break;case"development_missing_local":a=n.createElement(eV,{widgetId:e});break;case"org_private":a=n.createElement(ex,{widgetId:e});break;case"saved":a=n.createElement(eA,{widgetId:e,type:"saved"});break;case"invited":a=n.createElement(eS,{widgetId:e});break;default:return null}return n.createElement(eI.Provider,{value:g},a)}switch(t){case"community":a=n.createElement(eb,{pluginId:e});break;case"recent":a=n.createElement(eC,{pluginId:e});break;case"development":a=n.createElement(eF,{localFileId:e});break;case"development_missing_local":a=n.createElement(eF,{pluginId:e});break;case"org_private":a=n.createElement(eN,{pluginId:e});break;case"saved":a=n.createElement(eR,{pluginId:e,type:"saved"});break;case"invited":a=n.createElement(eT,{pluginId:e});break;default:return null}return n.createElement(ew.Provider,{value:g},a)}function eC({pluginId:e}){let t=(0,B.b4)()[e],l=(0,B.cW)()[e],i=(0,D.tw)(l);return t?(0,W.ZQ)(t)?n.createElement(eF,{localFileId:t.localFileId.toString(),isRecentTile:!0}):i?null:n.createElement(eR,{pluginId:t.plugin_id,type:"recent"}):null}function eb(e){let t=(0,B.cW)()[e.pluginId];if(e.plugin&&(t=e.plugin),!t)return null;let l=(0,M.uF)(t),{description:i,tagline:a}=l,r=(0,ea.fO)(t),o=n.createElement(n.Fragment,null,n.createElement("div",{className:eo.y7},(0,h.G8)({tagline:a,description:i},u.$J)),n.createElement("div",{className:eo.Yl},r));return n.createElement(eP,{pluginVersion:l,subheader:o,pluginId:e.pluginId,primaryCTAButton:e.ctaButton,alwaysShowPrimaryCTA:e.alwaysShowCta,isDevModeWizard:e.isDevModeWizard,onClick:e.onClick,isCommunityPreview:!0})}function eh({plugin:e,ctaButton:t,onClick:l}){let i={viewPluginDetails:d.lQ,keyboardNavigationPath:void 0,shouldFocusFirstItem:void 0};return n.createElement(ew.Provider,{value:i},n.createElement(eb,{pluginId:e.id,plugin:e,ctaButton:t,alwaysShowCta:!0,isDevModeWizard:!0,onClick:l}))}function eT(e){let t=(0,B.cW)()[e.pluginId],l=(0,i.wA)(),a=n.useCallback(()=>{l(T.oB())},[l]);if(!t)return null;let r=(0,M.uF)(t),{description:o,tagline:d}=r,c=n.createElement(n.Fragment,null,n.createElement("div",{className:eo.Pg},(0,h.G8)({tagline:d,description:o},u.$J)),n.createElement("div",{className:eo.Yl},(0,ea.fO)(t)));return n.createElement(n.Fragment,null,n.createElement(eP,{pluginVersion:r,subheader:c,pluginId:e.pluginId,onClick:a,showEditorTypeIcon:!0,isNotification:!0,metadataOverrideNode:n.createElement(et.PE,{resource:t})}))}let eR=n.memo(function(e){let t=(0,B.Be)(),l=t.plugins[e.pluginId]||t.orgPlugins[e.pluginId],i=(0,B.b4)()[e.pluginId],a=(0,B.cW)()[e.pluginId],r=n.useMemo(()=>"recent"===e.type?i:"org_private"===e.type?(0,M.uF)(a):l,[l,e.type,a,i]),o=(0,S.U)(),d=(null==o?void 0:o.type)===ei._n&&o.data.pluginId===e.pluginId&&o.data.targetRect&&o.data.viewType===e.type,c=eZ(e.pluginId,e.type);return n.createElement(ek,{pluginId:e.pluginId,type:e.type,dropdownIsShown:d,runOptionsDropdownIsShown:c,version:r})}),ek=n.memo(function(e){var t;let{dropdownIsShown:l,version:a}=e,r=(0,i.wA)(),{viewPluginDetails:o}=ef(),d=n.useCallback(t=>{t.stopPropagation(),l?r(T.oB()):r(T.j7({type:ei._n,data:{pluginId:e.pluginId,targetRect:t.currentTarget.getBoundingClientRect(),viewType:e.type}}))},[l,r,e.pluginId,e.type]),c=(0,N.dR)(e.pluginId,"universal-insert"),u=(0,N.Gt)(e.pluginId,"universal-insert"),s=(0,F.t)(e.pluginId,u,c),g=s.length>0,p=e.runOptionsDropdownIsShown&&g,m=n.useRef(null),{validatePublishedPluginInOrgAllowlist:v,isPluginBlockedByAllowlist:I}=(0,B.j1)(e.pluginId),E=(0,N.RK)(e.pluginId),w=n.useCallback(t=>{if(null==t||t.stopPropagation(),v()){if(g){p?r(T.oB()):r(ej({pluginId:e.pluginId,tileType:e.type}));return}E?u():c(),r(R.b({seen_published_plugin_onboarding_modal:!0})),r(R.b({seen_development_plugin_onboarding_modal:!0}))}},[v,g,E,r,p,e.pluginId,e.type,u,c]),f=null==(t=m.current)?void 0:t.getBoundingClientRect();if(!a)return null;let y=!!(p&&f)||l,_=n.createElement(el._W,{resourceId:e.pluginId,resourceType:U.vt.PLUGIN,parentView:el.nN.TILE,isFauxFocused:y});return n.createElement("div",null,n.createElement(eP,{pluginVersion:a,pluginId:e.pluginId,onOptionsClick:d,optionsButtonIsActive:l,onClick:w,showOnClickDropdownChevron:g,secondaryIcon:n.createElement(ev,{resource:a}),primaryCTAButton:_,isFauxFocused:y,visuallyDisabled:I}),n.createElement("div",{ref:m}),p&&f&&n.createElement(Q.j,{showPoint:!1,lean:"center",items:s,onSelectItem:e=>{e.callback&&e.callback("",null,r)},parentRect:f,dispatch:r}),l&&n.createElement(ei.EJ,{viewResource:o,plugin:a}))});function eF(e){var t;let l=(0,i.wA)(),a=(0,B.nl)({allowNonVsCodePluginsInVsCode:!0}),r=e.localFileId?a[e.localFileId]:void 0,o=r?r.plugin_id:e.pluginId,d=(0,B.kd)({includePendingPublishers:!1}).find(e=>e.id===o),c=d?(0,M.uF)(d):void 0,u=(0,S.U)(),{viewPluginDetails:s}=ef(),g=(null==u?void 0:u.type)===ei.lD&&(null==u?void 0:u.data.localFileId)===e.localFileId&&(null==u?void 0:u.data.pluginId)===o,m=n.useCallback(t=>{if(t.stopPropagation(),g)l(T.oB());else{let n=t.currentTarget.getBoundingClientRect();l(T.j7({type:ei.lD,data:{localFileId:e.localFileId,pluginId:o,targetRect:n}}))}},[l,e.localFileId,o,g]),v=(0,N.Gt)(o,"universal-insert"),E=(0,N.dR)(o,"universal-insert"),w=(0,F.t)(o,v,E),y=w.length>0,_=n.useRef(null),C=null==(t=_.current)?void 0:t.getBoundingClientRect(),b=eZ(o,e.isRecentTile?"recent_development":"development")&&y,R=n.useCallback(()=>{if(y){b?l(T.oB()):o&&l(ej({pluginId:o,tileType:e.isRecentTile?"recent_development":"development"}));return}E()},[y,E,b,l,o,e.isRecentTile]);if(!r&&!d)return null;let k=n.createElement(ee.A,{localResource:r,publishedResource:d}),P=d&&(0,h.AC)(d),D=d&&(null==c?void 0:c.redirect_icon_url),A=d&&!P?d.roles.is_public?es.A:ep.A:void 0,x=n.createElement(f.Ex,{height:"16"},n.createElement("span",null,(0,I.tx)("universal_insert.development")));return n.createElement(n.Fragment,null,n.createElement(eP,{pluginVersion:c,localPlugin:r,subheader:k,icon:D?void 0:n.createElement(p.B,{svg:eg.A,className:eo.Bx}),secondaryIcon:x,pluginId:o,onOptionsClick:m,onClick:R,optionsButtonIsActive:g,showOnClickDropdownChevron:y,showEditorTypeIcon:!1,publishingStatusIcon:A,inReview:P}),n.createElement("div",{ref:_}),b&&C&&n.createElement(Q.j,{showPoint:!1,lean:"center",items:w,onSelectItem:e=>{e.callback&&e.callback("",null,l)},parentRect:C,dispatch:l}),g&&(r?n.createElement(ei.T9,{localResource:r,viewResource:s}):n.createElement(ei.T9,{publishedResource:d,viewResource:s})))}function eN(e){return(0,B.cW)()[e.pluginId]?n.createElement(eR,{pluginId:e.pluginId,type:"org_private"}):null}function eB({pluginId:e,name:t,icon:l,iconUrl:i}){let[a,o]=n.useState(!!l);return n.createElement("div",{className:r()(a?eo.lP:eo.vt)},l||n.createElement(G.V,{plugin:{name:t,plugin_id:e,redirect_icon_url:i??""},loading:"lazy",alt:`${t} icon`,onLoad:()=>o(!0)}))}function eP(e){var t,l,i,a;let o;let d=(null==(t=e.pluginVersion)?void 0:t.name)??(null==(l=e.localPlugin)?void 0:l.name)??"",c=null==(i=e.pluginVersion)?void 0:i.redirect_icon_url,{isPluginSetToAutoRun:u}=(0,Z.bE)(e.pluginVersion??null),s=e.localPlugin?e.localPlugin.manifest.editorType:null==(a=e.pluginVersion)?void 0:a.manifest.editorType,g=!e.subheader,{viewPluginDetails:C,keyboardNavigationPath:b,shouldFocusFirstItem:h}=ef(),{setKeyboardNavigationElement:T,isFauxFocused:R,keyboardNavigationButtonRef:F}=ey(`plugin_${d}`,b,!!h),N=(0,k.j6)(),x=(0,D.ul)(e.pluginId),V=Object.values((0,B.$1)()).find(t=>String(t.plugin_id)===e.pluginId),S=(0,M.uF)(x),O=(0,M.pk)(S),U=(0,D.EO)(x)&&!V,W=(0,D.OY)(x),G=(0,D.gn)(x)&&!V,$=(0,L.sZ)(),H=(0,B.ll)(),z=!V&&(0,A.BF)({org:$,extensionVersion:S??e.pluginVersion,isWidget:!1,allowlistedExtensions:H}),Q=e.isCommunityPreview&&!z&&!e.isDevModeWizard,q=U&&!W?n.createElement(e$,{plugin:x,hideFreeTrialBadge:!0}):G?n.createElement(X.ur,null):Q?n.createElement(eU,{pluginId:e.pluginId,buttonRef:F}):void 0,ee=(0,y.QP)({resource:x,height:"16",validBadges:[y.op.FREEMUM,y.op.OFF_PLATFORM,y.op.PURCHASED]}),et=e.metadataOverrideNode??n.createElement(n.Fragment,null,n.createElement("div",{className:eo.FV},n.createElement(w.Y,{spacing:4},n.createElement("div",{className:r()(eo.B6,{[v.cx.colorTextDisabled.$]:e.visuallyDisabled})},d),u&&n.createElement(f.Ex,{height:"16"},(0,I.t)("universal_insert.auto_run")),e.inReview&&n.createElement(_.L,{height:"16"}),!!e.secondaryIcon&&e.secondaryIcon,ee&&!G&&n.createElement("div",{className:eo.UK},ee),e.publishingStatusIcon&&n.createElement("div",{className:v.cx.colorIcon.$},n.createElement(m.t,{svg:e.publishingStatusIcon})),e.showOnClickDropdownChevron&&n.createElement(p.B,{svg:ed.A,className:eo.o2})),e.subheader&&n.createElement("div",{className:eo.ZK},e.subheader)),q&&n.createElement("div",{className:eo.D1},q),e.onOptionsClick&&n.createElement(K.K0,{svg:ec.A,fallbackSvg:eu.A,className:e.optionsButtonIsActive?eo.F$:eo.D1,onClick:e.onOptionsClick,"data-tooltip-type":j.Ib.TEXT,"data-tooltip":(0,I.t)("universal_insert.more_options")}),e.primaryCTAButton&&n.createElement("div",{style:E.sx.add({alignSelf:"center"}).$},e.primaryCTAButton)),el=function(e,t){if((0,J.ks)());else if(e&&t)return!0;return!1}(e.showEditorTypeIcon,s),en=(0,J.ks)();o=el?n.createElement(Y.li.IconAndBadgeContainer,null,n.createElement(eB,{pluginId:e.pluginId,name:d,iconUrl:c,icon:e.icon}),n.createElement(Y.li.BadgeContainer,{fromBrowseResourceModal:!0,resourceType:"plugin"},n.createElement(Y.dn,{editorType:s,is16x16:!0}))):en&&O?n.createElement(Y.li.IconAndBadgeContainer,null,n.createElement(eB,{pluginId:e.pluginId,name:d,icon:e.icon,iconUrl:c}),n.createElement(Y.li.BadgeContainer,{fromBrowseResourceModal:!0,resourceType:"plugin"},n.createElement(Y.ZA,null))):n.createElement(eB,{pluginId:e.pluginId,name:d,icon:e.icon,iconUrl:c});let ei=()=>{if((0,P.Cu)({trackingContext:N.name,pluginId:e.pluginId}),U&&!W||z){C();return}if(e.onClick){e.onClick();return}C()};return n.createElement("div",{className:r()(g?eo.$C:eo.MJ,R||e.isFauxFocused?eo.c6:void 0,e.isDevModeWizard?eo.NH:void 0),onClick:ei,role:"button",tabIndex:0,ref:b?T:void 0},n.createElement("button",{onClick:e=>{e.stopPropagation(),ei()},ref:Q?void 0:F,"data-testid":"plugin-tile-button"}),n.createElement("div",{className:eo.ot},e.isNotification&&n.createElement("div",{className:eo.Vx}),o),et)}function eD(e){let t=(0,B.YO)()[e.widgetId],l=(0,B.ZT)()[e.widgetId],i=(0,D.tw)(l);return t?(0,W.ZQ)(t)?n.createElement(eV,{localFileId:t.localFileId.toString(),isRecentTile:!0}):i?null:n.createElement(eA,{widgetId:e.widgetId,type:"recent"}):null}function eA(e){var t;let l=(0,i.wA)(),{viewWidgetDetails:a}=eE(),r=(0,B.ZT)()[e.widgetId],d=(0,B.Be)().widgets[e.widgetId],c=(0,B.YO)()[e.widgetId],u="recent"===e.type?c:"org_private"===e.type?(0,M.uF)(r):d,s=(0,S.U)(),g=(null==s?void 0:s.type)===ei._n&&s.data.widgetId===e.widgetId&&s.data.targetRect&&s.data.viewType===e.type,p=(0,B.Ud)(e.widgetId),m=n.useRef(null),v=(0,B.WK)(e.widgetId),I=o.eD&&!!p&&!v,E=!!v||I,w=(0,S.U)(),f=n.useRef(null),y=(null==s?void 0:s.type)===en.cH&&s.data.widgetId===e.widgetId,{isWidgetBlockedByAllowlist:_}=(0,B.Ys)(e.widgetId),C=n.useCallback(t=>{if(E){if(t.preventDefault(),t.stopPropagation(),y)l(T.oB());else{let n=t.currentTarget.getBoundingClientRect();l(T.j7({type:en.cH,data:{targetRect:n,widgetId:e.widgetId}}))}}},[l,e.widgetId,y,E]),b=n.useCallback(()=>{(0,V.j)({pluginID:e.widgetId,widgetName:u.name,pluginVersionID:u.id,triggeredFrom:"universal-insert"})},[u,e.widgetId]),h=n.useCallback(e=>{E?C(e):x.l7.user("insert-published-widget",()=>{b()})},[b,C,E]),R=n.useCallback(t=>{t.stopPropagation(),g?l(T.oB()):l(T.j7({type:ei._n,data:{widgetId:e.widgetId,targetRect:t.currentTarget.getBoundingClientRect(),viewType:e.type}}))},[g,l,e.widgetId,e.type]);if(!u)return null;if((0,W.ZQ)(u))return n.createElement(eV,{localFileId:u.localFileId.toString()});let k=null==(t=f.current)?void 0:t.getBoundingClientRect(),F=!!(w&&k)||g,N=n.createElement(el._W,{resourceId:e.widgetId,resourceType:U.vt.WIDGET,parentView:el.nN.TILE,isFauxFocused:F});return n.createElement("div",null,n.createElement(eM,{widget:u,localWidget:v,subheader:(0,ea.CF)(u),iconUrl:u.redirect_snapshot_url??void 0,widgetId:e.widgetId,useHorizontalLayout:!0,optionsButtonIsActive:g,onOptionsClick:R,onClick:h,secondaryIcon:n.createElement(ev,{resource:u}),primaryCTAButton:N,isFauxFocused:F,visuallyDisabled:_}),n.createElement("div",{ref:m}),w&&k&&n.createElement(ei.NR,{targetRect:k,widgetId:e.widgetId,lean:"center"}),g&&n.createElement(ei.EJ,{viewResource:a,plugin:u}))}function ex(e){return(0,B.ZT)()[e.widgetId]?n.createElement(eA,{widgetId:e.widgetId,type:"org_private"}):null}function eV(e){let t=(0,i.wA)(),l=(0,B.yQ)(),a=n.useMemo(()=>e.localFileId?l[e.localFileId]:void 0,[l,e.localFileId]),r=(0,B.jg)(),o=a?a.plugin_id:e.widgetId,d=(0,B.bh)({includePendingPublishers:!1}),c=n.useMemo(()=>Object.values(d).find(e=>e.id===o),[d,o]),u=n.useMemo(()=>c&&c.current_plugin_version_id?c.versions[c.current_plugin_version_id]:void 0,[c]),s=(0,S.U)(),{viewWidgetDetails:g}=eE(),p=(null==s?void 0:s.type)===z.jZ.DEVELOPMENT_WIDGET_DROPDOWN&&(null==s?void 0:s.data.isRecentTile)===e.isRecentTile&&(null==s?void 0:s.data.localFileId)===e.localFileId&&(null==s?void 0:s.data.pluginId)===o&&(null==s?void 0:s.data.targetRect),m=n.useCallback(l=>{if(l.stopPropagation(),p)t(T.oB());else{let n=l.currentTarget.getBoundingClientRect();t(T.j7({type:z.jZ.DEVELOPMENT_WIDGET_DROPDOWN,data:{localFileId:e.localFileId,pluginId:o,isRecentTile:e.isRecentTile,targetRect:n}}))}},[t,e.localFileId,o,e.isRecentTile,p]),v=n.useCallback(()=>{a&&(0,V.j)({pluginID:a.plugin_id,widgetName:a.name,pluginVersionID:"",triggeredFrom:"universal-insert"})},[a]);if(!a&&!c)return null;let I=n.createElement(ee.A,{localResource:a,publishedResource:c}),E=c&&(0,h.AC)(c),w=c&&(0,M.uF)(c).redirect_snapshot_url||e.localFileId&&r[e.localFileId]&&r[e.localFileId].metadata.widgetSnapshotImageSrc||q.J,f=c&&!E?c.roles.is_public?es.A:ep.A:void 0;return n.createElement(n.Fragment,null,n.createElement(eM,{widget:u,localWidget:a,subheader:I,iconUrl:w,widgetId:o,onClick:()=>v(),onOptionsClick:m,optionsButtonIsActive:p,useHorizontalLayout:!0,showEditorTypeIcon:!1,publishingStatusIcon:f,inReview:E}),p&&(a?n.createElement(ei.T9,{localResource:a,viewResource:g}):n.createElement(ei.T9,{publishedResource:c,viewResource:g})))}function eS(e){let{widgetId:t}=e,l=(0,B.ZT)()[t]??null;if(!l)return null;let i=(0,M.uF)(l),{redirect_snapshot_url:a,manifest:r}=i;return n.createElement(eM,{widget:i,iconUrl:a??void 0,widgetId:l.id,onClick:e=>e.stopPropagation(),useHorizontalLayout:!0,showEditorTypeIcon:!0,editorType:r.editorType,isNotification:!0,metadataOverrideNode:n.createElement(et.PE,{resource:l})})}function eL(e){let t=(0,D.J$)(e.widgetId);if(!t)return null;let l=(0,M.uF)(t),i=(0,ea.fO)(t),a=n.createElement(n.Fragment,null,n.createElement("div",{className:eo.rz},(0,h.G8)(l,u.$J)),n.createElement("div",{className:eo.Yl},i));return n.createElement(eM,{widget:l,subheader:a,iconUrl:l.redirect_snapshot_url??void 0,widgetId:e.widgetId})}function eO({useHorizontalLayout:e=!1,onIconClick:t,disabled:l,iconUrl:a="",widget:r,publishedWidget:o,keyboardNavigationButtonRef:d}){let c=n.useMemo(()=>e?[y.op.PRICE]:[y.op.PURCHASED,y.op.OFF_PLATFORM,y.op.FREEMUM,y.op.PRICE],[e]),u=(0,i.d4)(e=>e.authedActiveCommunityProfile);return n.createElement("div",{className:e?eo.Zv:eo.Cq,onClick:t,role:"button",tabIndex:0},l?n.createElement($.z,{src:a,context:O._Y.DESIGN}):n.createElement(H._,{widget:r,src:a,analytics:{triggeredFrom:"universal-insert"},keyboardNavigationButtonRef:d,context:O._Y.DESIGN}),n.createElement("div",{className:eo.VJ},(0,y.$3)({resource:o,authedActiveCommunityProfile:u,validBadges:c,height:e?"16":"24"})))}let eM=n.memo(function(e){let t=e.localWidget??e.widget??M.lT,{viewWidgetDetails:l,keyboardNavigationPath:i,shouldFocusFirstItem:a}=eE(),{setKeyboardNavigationElement:o,isFauxFocused:d,keyboardNavigationButtonRef:c}=ey(`widget_${t.name}`,i,!!a),u=(0,B.ZT)()[e.widgetId],s=(0,D.EO)(u),g=(0,D.gn)(u),p=u?(0,M.uF)(u):null,f=t.name;(null==p?void 0:p.name)&&(null==p?void 0:p.name)!==""&&(f=null==p?void 0:p.name);let y=(0,L.sZ)(),C=(0,B.U6)(),b=!e.localWidget&&(0,A.BF)({org:y,extensionVersion:p??e.widget,isWidget:!0,allowlistedExtensions:C}),h=!!(s||b),T=(0,k.j6)(),R=h?void 0:e=>e.stopPropagation(),F=e.metadataOverrideNode??n.createElement(n.Fragment,null,n.createElement("div",{className:eo.QF},n.createElement("div",{className:eo.JW},n.createElement(w.Y,{spacing:4,verticalAlignItems:"center"},n.createElement("div",{className:r()(eo.Y2,{[v.cx.colorTextDisabled.$]:e.visuallyDisabled})},f),e.inReview&&n.createElement(_.L,{height:"16"}),!!e.secondaryIcon&&e.secondaryIcon,e.publishingStatusIcon&&n.createElement("div",{className:v.cx.colorIcon.$},n.createElement(m.t,{svg:e.publishingStatusIcon})),g&&n.createElement("div",{className:eo.Y9},n.createElement(X.xY,null)))),n.createElement("div",{className:eo.ML},e.subheader)),e.onOptionsClick&&n.createElement(K.K0,{svg:ec.A,fallbackSvg:eu.A,className:e.optionsButtonIsActive?eo.F$:eo.D1,onClick:e.onOptionsClick,"data-tooltip-type":j.Ib.TEXT,"data-tooltip":(0,I.t)("universal_insert.more_options")}),e.primaryCTAButton&&n.createElement("div",{style:E.sx.add({alignSelf:"center"}).$},e.primaryCTAButton));return n.createElement("div",{className:r()(e.useHorizontalLayout?eo.Gy:eo.BG,d?eo.c6:void 0),onClick:t=>{(0,P.Cu)({trackingContext:T.name,widgetId:e.widgetId}),h?l():e.onClick?e.onClick(t):l()},role:"button",tabIndex:0,ref:i?o:void 0,"data-testid":"widget-tile"},n.createElement("div",{className:eo.ot},e.isNotification&&n.createElement("div",{className:eo.Vx}),e.showEditorTypeIcon?n.createElement(Y.li.IconAndBadgeContainer,null,n.createElement(eO,{useHorizontalLayout:e.useHorizontalLayout,onIconClick:R,disabled:h,iconUrl:e.iconUrl,widget:t,publishedWidget:u,keyboardNavigationButtonRef:c}),n.createElement(Y.li.BadgeContainer,{fromBrowseResourceModal:!0,resourceType:"widget"},n.createElement(Y.dn,{editorType:e.editorType,is16x16:!0}))):n.createElement(eO,{useHorizontalLayout:e.useHorizontalLayout,onIconClick:R,disabled:h,iconUrl:e.iconUrl,widget:t,publishedWidget:u,keyboardNavigationButtonRef:c})),F)});function eU(e){var t;let l=(0,i.wA)(),a=n.useRef(null),r=(0,S.U)(),o=(0,B.JI)(),d=(0,J.ks)(),c=(0,N.dR)(e.pluginId,"universal-insert"),u=(0,N.Gt)(e.pluginId,"universal-insert"),g=(0,F.t)(e.pluginId,u,c),m=g.length>0,v=eZ(e.pluginId,"community"),E=m&&(null==r?void 0:r.type)===e.dropdownShownType&&(null==r?void 0:r.data.pluginId)===e.pluginId,w=v||E,{validatePublishedPluginInOrgAllowlist:f}=(0,B.j1)(e.pluginId),y=(0,N.RK)(e.pluginId),_=n.useCallback(t=>{if(t.stopPropagation(),f()){if(m){w?l(T.oB()):(e.dropdownShownType&&l(T.j7({type:e.dropdownShownType,data:{pluginId:e.pluginId}})),l(ej({pluginId:e.pluginId,tileType:"community"})));return}y?u():c(),l(R.b({seen_published_plugin_onboarding_modal:!0})),l(R.b({seen_development_plugin_onboarding_modal:!0}))}},[f,m,y,l,w,e.dropdownShownType,e.pluginId,u,c]);if(d&&!o)return null;let C=null==(t=a.current)?void 0:t.getBoundingClientRect(),b=e.usePrimaryButtonStyles?n.createElement(s.$$,{onClick:_,className:eo.lI},(0,I.tx)("universal_insert.run"),m&&n.createElement(p.B,{svg:ed.A,className:eo.sI})):n.createElement("button",{className:eo.lO,onClick:_,ref:e.buttonRef},(0,I.tx)("universal_insert.run"),m&&n.createElement(p.B,{svg:ed.A,className:eo.zZ}));return n.createElement("div",{className:e.usePrimaryButtonStyles?eo.od:void 0,"data-testid":"run-plugin-button"},n.createElement("div",{ref:a},b),w&&C&&n.createElement(Q.j,{showPoint:!1,items:g,onSelectItem:e=>{e.callback&&e.callback("",null,l)},parentRect:C,dispatch:l,lean:"left"}))}let eW="DROPDOWN_TYPE_RUN_PLUGIN_SUBMENU";function ej(e){return T.j7({type:eW,data:e})}function eZ(e,t){let l=(0,S.U)();return(null==l?void 0:l.type)===eW&&l.data.pluginId===e&&t===l.data.tileType}function eG(e){var t;let l=(0,i.wA)(),a=(0,B.ZT)()[e.widgetId],r=(0,B.WK)(e.widgetId),d=(0,B.Ud)(e.widgetId),c=o.eD&&!!d&&!r,u=!!r||c,g=(0,S.U)(),m=(null==g?void 0:g.type)===en.cH&&g.data.widgetId===e.widgetId,v=n.useRef(null),E=n.useCallback(t=>{if(u){if(t.preventDefault(),t.stopPropagation(),m)l(T.oB());else{let n=t.currentTarget.getBoundingClientRect();l(T.j7({type:en.cH,data:{targetRect:n,widgetId:e.widgetId}}))}}},[l,e.widgetId,m,u]),w=n.useCallback(()=>{let e=(0,M.uF)(a);(0,V.j)({pluginID:e.plugin_id,widgetName:e.name,pluginVersionID:e.id,triggeredFrom:"universal-insert"})},[a]),f=n.useCallback(e=>{u?E(e):x.l7.user("insert-published-widget",()=>{w()})},[w,E,u]);if(!a)return null;let y=n.createElement(s.$$,{onClick:f,className:eo.lI},(0,I.tx)("universal_insert.add"),u&&n.createElement(p.B,{svg:ed.A,className:eo.sI})),_=null==(t=v.current)?void 0:t.getBoundingClientRect();return n.createElement("div",{className:eo.od},n.createElement("div",{ref:v},y),m&&_&&n.createElement(ei.NR,{targetRect:_,widgetId:e.widgetId}))}function e$(e){let t=(0,D.lt)(e.plugin);return e.plugin.monetized_resource_metadata?n.createElement("div",{className:eo.y2},n.createElement("div",{className:eo.lO},(0,b.bV)(e.plugin.monetized_resource_metadata)),!e.hideFreeTrialBadge&&(0,b.Lt)({resource:e.plugin,payment:t})&&n.createElement(C.w5,{metadata:e.plugin.monetized_resource_metadata,condensed:!0})):null}}}]);

//# debugId=c16b2acb-2b22-5b51-a644-0fe5b771df2d

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/2842b265b288ab912c02d35086cf598df22d5945/6154-2c7b6277559d1a82.min.js.map