"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="26fd510a-058f-54a4-b564-71d42cb481c2")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[5468],{44173:(e,t,i)=>{i.d(t,{A9:()=>M,DD:()=>g,EI:()=>h,Ec:()=>U,En:()=>b,Ew:()=>W,FN:()=>u,FS:()=>E,Kk:()=>I,Li:()=>l,PI:()=>F,Qs:()=>A,SH:()=>R,SZ:()=>p,VA:()=>P,Vt:()=>C,Zm:()=>s,_u:()=>r,aR:()=>y,bm:()=>_,dC:()=>d,dh:()=>k,e0:()=>v,eD:()=>c,gJ:()=>O,hQ:()=>S,k1:()=>H,km:()=>B,lN:()=>L,ni:()=>T,qd:()=>n,sU:()=>a,t4:()=>D,tJ:()=>m,uX:()=>N,vE:()=>f,wZ:()=>x,xG:()=>o,xf:()=>w});let n="block_kit_row--rowContainer--blE-e",l="block_kit_row--rowContainerRevamp--yfW80",a="block_kit_row--rowTop--V9LTX",r="block_kit_row--rowBottom--MUjVt",o="block_kit_row--acceptButton--a8hGz",c="block_kit_row--rejectButton--KOYG6",s="block_kit_row--unreadDot--nGsUe",d="block_kit_row--unreadBlueDot--4x8W8 block_kit_row--unreadDot--nGsUe",_="block_kit_row--unreadDotStructuredView--5etXA",u="block_kit_row--unreadBlueDotStructuredView--ZD5sy block_kit_row--unreadDotStructuredView--5etXA",m="block_kit_row--metadataContainer--VXyxj",E="block_kit_row--textContainer--k9trX",p="block_kit_row--titleAndTimestamp--jCbMC",f="block_kit_row--timestamp--5jHxO",g="block_kit_row--title--RyhFW",h="block_kit_row--usersContainer--m9QMX",v="block_kit_row--usersContainerStructuredView---DFXa",b="block_kit_row--iconInvert--ZLK5r",N="block_kit_row--secondaryUser--Zbyj5",I="block_kit_row--icon--Gau-9",T="block_kit_row--iconImg--Sw8ei",R="block_kit_row--primaryUser--0OplU",w="block_kit_row--primaryUserRevamp--MMzIv",k="block_kit_row--secondaryUserRevamp--UuMHC",y="block_kit_row--quickReplyChevronContainer--SK1rE",C="block_kit_row--quickReplyChevron--smu6R",D="block_kit_row--chevronIcon--RUUy2",S="block_kit_row--contentContainer--xYiON text--fontPos11--2LvXf text--_fontBase--QdLsd",O="block_kit_row--contentContainerRevamp--D0Z0z text--fontPos11--2LvXf text--_fontBase--QdLsd",A="block_kit_row--content--DjH--",P="block_kit_row--subtitle--tTR9W",F="block_kit_row--fromNow--qYB7e",L="block_kit_row--planDivider--po3BY",x="block_kit_row--notificationDescription--6aMEh ellipsis--ellipsisAfter3Lines--h405C ellipsis--_ellipsisAfterNLines--LzI7k",U="block_kit_row--notificationDescriptionStructuredView--4sKju ellipsis--ellipsisAfter3Lines--h405C ellipsis--_ellipsisAfterNLines--LzI7k",M="block_kit_row--emojiUnicode--s9gXM",B="block_kit_row--imagePreview---NMyQ",H="block_kit_row--htmlTextBlock--w691R",W="block_kit_row--square--LWlEB"},391758:(e,t,i)=>{i.d(t,{Ee:()=>E,FR:()=>p,I3:()=>b,O9:()=>d,OL:()=>N,P2:()=>n,Pu:()=>a,Uz:()=>r,WI:()=>f,db:()=>m,g4:()=>c,gy:()=>_,ix:()=>l,jG:()=>v,nf:()=>h,pg:()=>o,sJ:()=>g,u6:()=>u,wx:()=>s});let n="user_notifications_dropdown--dropdownContainer--FeJWw text--fontPos11--2LvXf text--_fontBase--QdLsd",l="user_notifications_dropdown--dropdownChevronContainer--SAlt4",a="user_notifications_dropdown--dropdownChevron--ZvAmn",r="user_notifications_dropdown--arrowRight--yyaYz",o="user_notifications_dropdown--dropdownContainerEmptyState--9URCY user_notifications_dropdown--dropdownContainer--FeJWw text--fontPos11--2LvXf text--_fontBase--QdLsd",c="user_notifications_dropdown--loadingContainer--gztC3",s="user_notifications_dropdown--header--VmRgJ",d="user_notifications_dropdown--orgName--hsl6y ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd",_="user_notifications_dropdown--unread---qSyA",u="user_notifications_dropdown--filterToggleButtons--durwj",m="user_notifications_dropdown--filterToggleButton--O-mT7",E="user_notifications_dropdown--filterToggleButtonSelected--Z7F8s",p="user_notifications_dropdown--unreadToggleBar--LB14C",f="user_notifications_dropdown--filterToggleBar--um0WE user_notifications_dropdown--unreadToggleBar--LB14C",g="user_notifications_dropdown--dateHeader--mWn2d",h="user_notifications_dropdown--link--tPMj9 text--fontPos11--2LvXf text--_fontBase--QdLsd",v="user_notifications_dropdown--scrollContainer--eFxLZ",b="user_notifications_dropdown--scrollContainerWithPlan--D2j-0",N="user_notifications_dropdown--emptyRow--hHiSY"},701283:(e,t,i)=>{i.d(t,{Kk:()=>o,XI:()=>_,iG:()=>n,iU:()=>s,m5:()=>c,o1:()=>d,rV:()=>r,s:()=>l,xT:()=>a});let n="notification--centeredContainer--KOKEL",l="notification--topCenterNotification---nbgh notification--notification--Q5PkV text--_negText--j9g-L _overlayBase--_overlayBase--Rkj8l",a="notification--bottomRightNotification--i1z7X notification--notification--Q5PkV text--_negText--j9g-L _overlayBase--_overlayBase--Rkj8l",r="notification--bottomRightNotificationHelpIconHidden--plZlM notification--bottomRightNotification--i1z7X notification--notification--Q5PkV text--_negText--j9g-L _overlayBase--_overlayBase--Rkj8l",o="notification--icon--ZWNx5",c="notification--iconError--aqnJU notification--icon--ZWNx5",s="notification--message--6GSx7",d="notification--actions--GUX-p",_="notification--action--v-pvn"},367935:(e,t,i)=>{function n(e){return e.is_widget}function l(e){return void 0!==e.current_plugin_version_id&&!e.is_widget}function a(e){return void 0!==e.duplicate_count}i.d(t,{AS:()=>n,bT:()=>l,zj:()=>a})},611047:(e,t,i)=>{i.d(t,{LP:()=>d,qQ:()=>n,qv:()=>_});var n,l=i(411855),a=i(776250),r=i(96328),o=i(939863),c=i(809840),s=i(99506);let d="cover";var _=(e=>(e.COMPONENT_PUBLISHING="component_publishing",e.VIDEO="video",e.PASSWORD_PROTECTION="password_protection",e.AUDIO="audio",e.UNLIMITED_PAGES="unlimited_pages",e.PROTOTYPE_ONLY_LINKS="prototype_only_links",e.OPEN_SESSIONS="open_sessions",e.UNLIMITED_PROJECTS="unlimited_projects",e.PRIVATE_PROJECTS="private_projects",e.UNLIMITED_FILES="unlimited_files",e))(_||{});let u={cover:{onboardingKey:d,imgSrc:"https://static.figma.com/uploads/cade95b7d3141da5e4c22a879de339d5b57b05aa",header:l.createElement(c.E,{fontSize:13,fontWeight:"medium"},(0,o.tx)("help_widget.pro_trials.stack_of_cards_widget.pro.title")),description:l.createElement(c.E,{fontSize:11,color:"secondary"},(0,o.tx)("help_widget.pro_trials.stack_of_cards_widget.pro.description")),hoverTitle:null},password_protection:{onboardingKey:"password_protection",imgSrc:"https://static.figma.com/uploads/b56379c61007d4c119dc3a32fc936ac07f5d13d5",header:l.createElement(c.E,{fontSize:13,fontWeight:"medium"},(0,o.tx)("help_widget.pro_trials.stack_of_cards_widget.password.title")),description:l.createElement(c.E,{fontSize:11,color:"secondary"},(0,o.tx)("help_widget.pro_trials.stack_of_cards_widget.password.description")),hoverTitle:l.createElement(c.E,{fontSize:12,fontWeight:"semi-bold"},(0,o.tx)("help_widget.pro_trials.stack_of_cards_widget.password.hover_text"))},component_publishing:{onboardingKey:"component_publishing",imgSrc:"https://static.figma.com/uploads/1138b4f97bb51f61ed9b2bac008de9038dfbcf75",header:l.createElement(c.E,{fontSize:13,fontWeight:"medium"},(0,o.tx)("help_widget.pro_trials.stack_of_cards_widget.library.title")),description:l.createElement(c.E,{fontSize:11,color:"secondary"},(0,o.tx)("help_widget.pro_trials.stack_of_cards_widget.library.description")),hoverTitle:l.createElement(c.E,{fontSize:12,fontWeight:"semi-bold"},(0,o.tx)("help_widget.pro_trials.stack_of_cards_widget.library.hover_text"))},audio:{onboardingKey:"audio",imgSrc:"https://static.figma.com/uploads/312167c9a97cd378f0a20d09d03376b27283dae9",header:l.createElement(c.E,{fontSize:13,fontWeight:"medium"},(0,o.tx)("help_widget.pro_trials.stack_of_cards_widget.audio.title")),description:l.createElement(c.E,{fontSize:11,color:"secondary"},(0,o.tx)("help_widget.pro_trials.stack_of_cards_widget.audio.description")),hoverTitle:l.createElement(c.E,{fontSize:12,fontWeight:"semi-bold"},(0,o.tx)("help_widget.pro_trials.stack_of_cards_widget.audio.hover_text"))},open_sessions:{onboardingKey:"open_sessions",imgSrc:"https://static.figma.com/uploads/1ee3e88ccb237a207e896dba4a67af081259590d",header:l.createElement(c.E,{fontSize:13,fontWeight:"medium"},(0,o.tx)("help_widget.pro_trials.stack_of_cards_widget.jam.title")),description:l.createElement(c.E,{fontSize:11,color:"secondary"},(0,o.tx)("help_widget.pro_trials.stack_of_cards_widget.jam.description")),hoverTitle:l.createElement(c.E,{fontSize:12,fontWeight:"semi-bold"},(0,o.tx)("help_widget.pro_trials.stack_of_cards_widget.jam.hover_text"))},unlimited_pages:{onboardingKey:"unlimited_pages",imgSrc:"https://static.figma.com/uploads/cdb490f97220f8598d6b342c873569c68ac2370e",header:l.createElement(c.E,{fontSize:13,fontWeight:"medium"},(0,o.tx)("help_widget.pro_trials.stack_of_cards_widget.unlimited_pages.title")),description:l.createElement(c.E,{fontSize:11,color:"secondary"},(0,o.tx)("help_widget.pro_trials.stack_of_cards_widget.unlimited_pages.description")),hoverTitle:l.createElement(c.E,{fontSize:12,fontWeight:"semi-bold"},(0,o.tx)("help_widget.pro_trials.stack_of_cards_widget.unlimited_pages.hover_text"))},video:{onboardingKey:"video",imgSrc:"https://static.figma.com/uploads/0e9be58e80f8d577fc4b1028f07a903bca68c970",header:l.createElement(c.E,{fontSize:13,fontWeight:"medium"},(0,o.tx)("help_widget.pro_trials.stack_of_cards_widget.video.title")),description:l.createElement(c.E,{fontSize:11,color:"secondary"},(0,o.tx)("help_widget.pro_trials.stack_of_cards_widget.video.description")),hoverTitle:l.createElement(c.E,{fontSize:12,fontWeight:"semi-bold"},(0,o.tx)("help_widget.pro_trials.stack_of_cards_widget.video.hover_text"))}},m={component_publishing:"seen_pro_onboarding_component_publishing_overlay",video:"seen_pro_onboarding_video_overlay",password_protection:"seen_pro_onboarding_password_protection_overlay",audio:"seen_pro_onboarding_audio_overlay",unlimited_pages:"seen_pro_onboarding_unlimited_pages_overlay",prototype_only_links:"seen_pro_onboarding_prototype_only_links_overlay",open_sessions:"seen_pro_onboarding_open_sessions_overlay",unlimited_files:"seen_pro_onboarding_unlimited_files_overlay",unlimited_projects:"seen_pro_onboarding_unlimited_projects_overlay",private_projects:"seen_pro_onboarding_private_projects_overlay"};(e=>{e.ACTIVELY_TRIGGERED_ONBOARDING_BLOCKED_EVENT_ID="Pro Trials V3: Actively Triggered Onboarding Blocked",e.getOnboardingStepUserFlag=function(e){return m[e]},e.getOnboardingStepTrackingContext=function(e){return`Pro Trials V3 Onboarding: ${(0,r.vE)(e)}`},e.getOnboardingStepTriggerEventId=function(e){return`triggered_pro_trials_v3_${e}_onboarding`},e.trackActivelyTriggeredOnboardingStepBlocked=function(t,i){(0,a.sx)(e.ACTIVELY_TRIGGERED_ONBOARDING_BLOCKED_EVENT_ID,{blockedOnboardingFeature:i,blockingOverlayId:t})},e.getOnboardingCardsStackContentProps=function({editorType:e,isVoiceEnabled:t,isWorkshopModeEnabled:i}){let n=[d,"password_protection","component_publishing","unlimited_pages","video"];t&&n.push("audio");let l=[d,"password_protection"];return t&&l.push("audio"),i&&l.push("open_sessions"),(({[s._Y.DESIGN]:n,[s._Y.SLIDES]:n,[s._Y.SITES]:n,[s._Y.WHITEBOARD]:l})[e]||[]).map(e=>u[e])}})(n||(n={}))},741477:(e,t,i)=>{i.d(t,{E:()=>a});var n=i(302245);let l=(0,n.Mz)(e=>e.dropdownShown,e=>null==e?void 0:e.type),a=e=>(0,n.Mz)(l,t=>t===e)},410613:(e,t,i)=>{i.d(t,{JG:()=>a,pw:()=>n});var n,l=(e=>(e[e.TEXT=0]="TEXT",e[e.FILE_COMMENT=1]="FILE_COMMENT",e[e.FILE_COMMENT_REPLY=2]="FILE_COMMENT_REPLY",e[e.INVITE_FILE=3]="INVITE_FILE",e[e.INVITE_FOLDER=4]="INVITE_FOLDER",e[e.INVITE_TEAM=5]="INVITE_TEAM",e[e.AT_MENTION_INVITE=7]="AT_MENTION_INVITE",e[e.AT_MENTION=8]="AT_MENTION",e[e.TEAM_ROLE_REQUEST_APPROVED=9]="TEAM_ROLE_REQUEST_APPROVED",e[e.TEAM_ROLE_REQUEST_DENIED=10]="TEAM_ROLE_REQUEST_DENIED",e[e.TEAM_ROLE_REQUEST_CREATED=11]="TEAM_ROLE_REQUEST_CREATED",e[e.ORG_ACCOUNT_TYPE_REQUEST_CREATED=12]="ORG_ACCOUNT_TYPE_REQUEST_CREATED",e[e.ORG_ACCOUNT_TYPE_REQUEST_APPROVED=13]="ORG_ACCOUNT_TYPE_REQUEST_APPROVED",e[e.ORG_ACCOUNT_TYPE_REQUEST_DENIED=14]="ORG_ACCOUNT_TYPE_REQUEST_DENIED",e[e.HUB_FILE_DUPLICATED=15]="HUB_FILE_DUPLICATED",e[e.HUB_PLUGIN_INSTALLED=16]="HUB_PLUGIN_INSTALLED",e[e.HUB_FILE_LIKED=17]="HUB_FILE_LIKED",e[e.HUB_PLUGIN_LIKED=18]="HUB_PLUGIN_LIKED",e[e.HUB_FILE_REMIXED=19]="HUB_FILE_REMIXED",e[e.FILE_COMMENT_REACTION=20]="FILE_COMMENT_REACTION",e[e.HUB_PROFILE_FOLLOWED=21]="HUB_PROFILE_FOLLOWED",e[e.HUB_RESOURCE_PUBLISHER_ADDED=22]="HUB_RESOURCE_PUBLISHER_ADDED",e[e.HUB_RESOURCE_PUBLISHER_REMOVED=23]="HUB_RESOURCE_PUBLISHER_REMOVED",e[e.HUB_RESOURCE_COMMENT=24]="HUB_RESOURCE_COMMENT",e[e.HUB_RESOURCE_COMMENT_REPLY=25]="HUB_RESOURCE_COMMENT_REPLY",e[e.INVITE_FILE_REPO=26]="INVITE_FILE_REPO",e[e.FILE_ROLE_REQUEST_CREATED=27]="FILE_ROLE_REQUEST_CREATED",e[e.MERGE_REQUEST_REVIEWER_ADDED=28]="MERGE_REQUEST_REVIEWER_ADDED",e[e.MERGE_REQUEST_APPROVED=29]="MERGE_REQUEST_APPROVED",e[e.MERGE_REQUEST_APPROVAL_REVOKED=30]="MERGE_REQUEST_APPROVAL_REVOKED",e[e.BRANCH_MERGED=31]="BRANCH_MERGED",e[e.BRANCH_ARCHIVED=32]="BRANCH_ARCHIVED",e[e.COMMUNITY_MENTION=33]="COMMUNITY_MENTION",e[e.FILE_ROLE_REQUEST_APPROVED=34]="FILE_ROLE_REQUEST_APPROVED",e[e.MERGE_REQUEST_REVIEWER_INVITED_ADDED=35]="MERGE_REQUEST_REVIEWER_INVITED_ADDED",e[e.ORG_JOIN_REQUEST_CREATED=36]="ORG_JOIN_REQUEST_CREATED",e[e.HUB_WIDGET_LIKED=37]="HUB_WIDGET_LIKED",e[e.HUB_WIDGET_INSTALLED=38]="HUB_WIDGET_INSTALLED",e[e.MERGE_REQUEST_CHANGES_REQUESTED=39]="MERGE_REQUEST_CHANGES_REQUESTED",e[e.ORG_JOIN_REQUEST_APPROVED_TO_SHARER=40]="ORG_JOIN_REQUEST_APPROVED_TO_SHARER",e[e.HUB_PLUGIN_USED=41]="HUB_PLUGIN_USED",e[e.HUB_WIDGET_USED=42]="HUB_WIDGET_USED",e[e.PRO_ACCOUNT_TYPE_REQUEST_CREATED=43]="PRO_ACCOUNT_TYPE_REQUEST_CREATED",e[e.PRO_ACCOUNT_TYPE_REQUEST_APPROVED=44]="PRO_ACCOUNT_TYPE_REQUEST_APPROVED",e[e.PRO_ACCOUNT_TYPE_REQUEST_DENIED=45]="PRO_ACCOUNT_TYPE_REQUEST_DENIED",e[e.INVITE_TEAM_REMINDER=46]="INVITE_TEAM_REMINDER",e[e.PLUGIN_PUBLISHER_ADDED=47]="PLUGIN_PUBLISHER_ADDED",e[e.RESOURCE_SOLD=48]="RESOURCE_SOLD",e[e.INVITE_FILE_REMINDER=49]="INVITE_FILE_REMINDER",e[e.BATCHED_FILE_COMMENT=50]="BATCHED_FILE_COMMENT",e[e.FEED_POST_COMMENT=51]="FEED_POST_COMMENT",e[e.FEED_POST_AT_MENTION=52]="FEED_POST_AT_MENTION",e[e.FEED_POST_REACTION=53]="FEED_POST_REACTION",e[e.RESOURCE_PUBLISH=54]="RESOURCE_PUBLISH",e[e.FEED_COMMENT_REACTION=55]="FEED_COMMENT_REACTION",e[e.FEED_POST_DESCRIPTION_AT_MENTION=56]="FEED_POST_DESCRIPTION_AT_MENTION",e[e.BATCHED_FEED_POST=57]="BATCHED_FEED_POST",e[e.BATCHED_FEED_COMMENT_REACTION=58]="BATCHED_FEED_COMMENT_REACTION",e[e.RESOURCE_SUBSCRIPTION_PRICE_INCREASE=60]="RESOURCE_SUBSCRIPTION_PRICE_INCREASE",e[e.FEED_POLL_CLOSE=61]="FEED_POLL_CLOSE",e[e.FILE_ROLE_REQUEST_PENDING_MOVE_TO_PROJECT=63]="FILE_ROLE_REQUEST_PENDING_MOVE_TO_PROJECT",e[e.VR_USER_SHARED_DRAFT=77]="VR_USER_SHARED_DRAFT",e))(l||{});let a="0";(e=>{(e=>{(e.Block||(e.Block={})).ATTACHMENT_TYPES=new Set(["BodyAndThumbnailAttachment","ActionableAttachment","ClientActionableAttachment","BodyAttachment"])})(e.BlockKit||(e.BlockKit={}))})(n||(n={}))},749336:(e,t,i)=>{i.d(t,{d:()=>L});var n=i(411855),l=i(188507),a=i(776250),r=i(499737),o=i(860601),c=i(743282),s=i(493323),d=i(827586),_=i(939863),u=i(278733),m=i(553015),E=i(270068),p=i(103907),f=i(696097),g=i(259927),h=i(654034),v=i(920037),b=i(860178),N=i(279453),I=i(531827),T=i(440535),R=i(91425),w=i(238559),k=i(113292),y=i(728268),C=i(636662),D=i(57289),S=i(448879),O=i(757207);let A="quick_reply_thread_view--headerButton--wmkPJ",P=new class{get file(){throw Error("Data should not be accessed directly from quick replies, we need to create standard API for comments to use this view. see: file_comments_api.tsx")}get fileFollower(){throw Error("Data should not be accessed directly from quick replies, we need to create standard API for comments to use this view. see: file_comments_api.tsx")}get comments(){throw Error("Data should not be accessed directly from quick replies, we need to create standard API for comments to use this view. see: file_comments_api.tsx")}},F=null,L=(0,n.forwardRef)((e,t)=>{let i=(0,r.Rs)(N.Uhm,{fileKey:e.quickReplyInfo.fileKey,rootId:e.quickReplyInfo.threadId});return n.createElement("div",{className:"quick_reply_thread_view--container--WPlnN",ref:t},n.createElement("div",{className:"quick_reply_thread_view--column--UrAD4"},n.createElement("div",{className:"quick_reply_thread_view--header--BHlje"},n.createElement("div",{className:A},!e.hideOverflowMenu&&n.createElement(m.$,{icon:e.closeIcon,variant:"text",onClick:e.onClose})),n.createElement("div",{className:"quick_reply_thread_view--fileName--S2twU"},"loaded"===i.status&&i.data.file&&i.data.file.name),n.createElement("div",{className:A},e.hideOverflowMenu?n.createElement(m.$,{icon:e.closeIcon,variant:"text",onClick:e.onClose}):n.createElement("div",{style:{display:"none"}},n.createElement(m.$,{icon:"dots-32",variant:"text"})))),n.createElement(x,{quickReplyInfo:e.quickReplyInfo,result:i,hideOverflowMenu:e.hideOverflowMenu})))});function x(e){let t=(0,b.iZ)();return t?"loading"===e.result.status||"disabled"===e.result.status?n.createElement(s.qc,{size:"medium"}):"errors"===e.result.status?n.createElement("div",{className:"quick_reply_thread_view--errorState--Re4UD"},(0,_.t)("quick_reply.unable_to_load_thread")):null==e.result.data.file?n.createElement("div",null,(0,_.t)("quick_reply.unable_to_load_thread")):n.createElement(U,{quickReplyInfo:e.quickReplyInfo,result:e.result,user:t,hideOverflowMenu:e.hideOverflowMenu}):null}function U(e){var t,i,r,o,c,s;let{quickReplyInfo:d,result:u,user:g}=e,{fileKey:b,threadId:N}=d,R=(0,f.dr)({args:{fileKey:b,rootId:N},subscription:u}),w=(0,l.wA)(),{file:k}=u.data,y=(0,n.useMemo)(()=>{var e,t,i,n;return(0,I.mp)({currentOrgId:null==(e=k.org)?void 0:e.id,teamId:null==(t=k.team)?void 0:t.id,fileKey:b,isOrgGuest:(null==(n=null==(i=k.org)?void 0:i.currentOrgUser)?void 0:n.permission)==="guest",users:[]})},[null==(t=k.org)?void 0:t.id,null==(i=k.team)?void 0:i.id,b,null==(o=null==(r=k.org)?void 0:r.currentOrgUser)?void 0:o.permission]),{mobileCommentThread:C}=k,{currentUserCommentReadStatus:D}=k,S=C.find(e=>e.id===N),O=(0,l.d4)(e=>e.comments.savingCommentUuids),A=(0,l.d4)(e=>e.comments.lgPendingUuidToServerIdMap);if(!S)return n.createElement("div",null,(0,_.t)("quick_reply.unable_to_load_thread"));let L=C.map(e=>(0,h.G9)(g.id,S,e,D??h.gj,O,A,e.attachments)),x={id:S.id,key:b,anchored:!1,canvasPosition:null,selectionAnchorCanvasPosition:null,comments:L,messageMeta:L[0].message_meta,page:(null==(c=S.clientMeta)?void 0:c.pageId)||null,isActive:!0,replyCount:C.length-1,isCanvasMention:!1,pageName:(null==(s=S.clientMeta)?void 0:s.pageId)||null,sidebarItemType:T.kT.COMMENT_THREAD},U={api:R,status:u.status,data:P,threads:{status:u.status,data:[x],errors:u.errors},errors:u.errors,isResolvedLoaded:!0,isUnresolvedLoaded:!0};return n.createElement(p.j9.Provider,{value:U},n.createElement("div",{className:"quick_reply_thread_view--mouseContainer--qyIpH",onMouseEnter:()=>{let e=L.some(e=>e.isUnread);F=setTimeout(()=>{R.commentReceipts&&e&&(w(E.AY({receiptsAPI:R.commentReceipts,thread:x})),(0,a.sx)("Comment Thread Read",{commentThreadId:N,threadType:"file_browser_quick_reply"}))},1e3)},onMouseLeave:()=>{F&&clearTimeout(F)}},n.createElement("div",{className:"quick_reply_thread_view--preview--I47Ds"},n.createElement("img",{src:S.thumbnailUrl||void 0,className:"quick_reply_thread_view--previewImage--gSK-n",style:{backgroundColor:(0,v.C)(k.checkpointClientMeta)},alt:"thumbnail"}),n.createElement("a",{href:d.deeplink??`/file/${b}?fuid=${g.id}&#${N}`,className:"quick_reply_thread_view--openFileButton--RBtVz"},n.createElement(m.$,{variant:"text",icon:"new-window-32"}))),n.createElement(B,{loadedComments:L,user:g,quickReplyInfo:d,commentMentionables:y,hideOverflowMenu:e.hideOverflowMenu})))}function M(){let e=(0,l.wA)(),t=(0,l.d4)(e=>e.dropdownShown||null),i=(0,b.iZ)(),a=(0,R.v)();if(!t||t.type!==g.VJ)return null;let{comment:r,parentRect:o,thread:c,isUnread:s}=t.data;return n.createElement(y.V,{dispatch:e,comment:r,parentRect:o,currentUser:i,isUnread:s,thread:c,copyLink:a})}function B(e){let{loadedComments:t,user:i,quickReplyInfo:a,commentMentionables:r,hideOverflowMenu:s}=e,{fileKey:m,threadId:f}=a,g=(0,l.wA)();(0,n.useEffect)(()=>{g(E.Fm({threadId:f}))},[g,f]);let h=(0,l.d4)(e=>e.comments.typeahead),v=(0,l.d4)(e=>e.comments.editingComment),b=(0,l.d4)(e=>e.dropdownShown||null),N=(0,l.d4)(e=>{var t;return null==(t=e.comments.activeThread)?void 0:t.id}),I=(0,l.d4)(e=>e.comments.threads),R=N&&I[N]||null,A=(null==R?void 0:R.reply.messageMeta)||[],{submitReply:P,updateMessage:F,submitEdit:L}=function(e){var t;let i=(0,l.wA)(),a=(0,p.I_)().writeAPI,r=null==(t=(0,p._9)())?void 0:t.threads;return{submitReply:n.useCallback(e=>{if(!a){console.error("Calling submitReply with no write API");return}r&&"loaded"===r.status&&r.data.find(t=>t.id===e.threadId)&&(e.onCommentValidationFailure=(t,n,l,r)=>E.dB(a,i,t,n,l,r,e.uuid,S.y),i(E.lV({...e,commentsWriteApi:a,commentsConfiguration:S.y,trackingContext:{feature:"web_quick_reply_screen"}})))},[i,r,a]),updateMessage:n.useCallback(t=>{i(E.k7({threadId:e,messageMeta:t}))},[i,e]),submitEdit:n.useCallback((e,t)=>{i(E._v({comment:e,messageMeta:t}))},[i])}}(f),x=(0,k._B)(),U=n.useRef(null),B=n.useRef(null),H=n.useRef(null),[W,G]=n.useState(null),[j,V]=n.useState(n.useRef(null)),z=n.useRef(null),Q=0,Y=0,q=0;z.current&&z.current.offsetParent&&(Q=z.current.offsetWidth,Y=z.current.offsetLeft,q=z.current.offsetParent.clientHeight-z.current.offsetTop);let $=e=>e||{x:0,y:0},K=n.useRef(null);(0,n.useEffect)(()=>{K.current&&K.current.scrollToBottom()},[]);let J=[...new Set(t.map(e=>e.user.handle))],X=t.find(e=>e.id===f);return X?n.createElement(n.Fragment,null,n.createElement("div",{style:u.sx.flex1.$}),n.createElement(d.P,{className:"quick_reply_thread_view--bottomAnchoredScrollContainer--5-F87",useBottomPinning:!0,ref:K,enableScrollShadow:!0},n.createElement("div",{className:"quick_reply_thread_view--reverseColumn--ur8Yx"},t.slice().reverse().map((e,l)=>n.createElement(y.I,{editorRef:H,key:`thread-comment-${e.id}`,dispatch:g,user:i,thread:{comments:t,key:m,id:f},setHyperlinkLocation:G,hyperlinkLocation:W,setHyperlinkEditorRef:V,comment:e,typeahead:h,mentionables:r,prevAuthor:0===l?null:t[l-1].user_id,index:l,editingComment:v,submitEdit:L,dropdownShown:b,viewportPositionFromClientPosition:$,editorOnInsert:x.editorOnInsert,editorOnClear:x.editorOnClear,threadPosition:{x:0,y:0},setIsEditorFocused:o.lQ,showEditedIndicator:!!e.edited_at,hideOverflowMenu:s,hideReactions:!1,hideEmojiPicker:!1,allowAttachments:!1,hideResolve:!1,setResolved:o.lQ,mountInputFocused:!0,editorType:"comment-editor-thread",isQuickReplyThreadView:!0})))),n.createElement(C.K,{editorRef:B,dispatch:g,user:i,typeahead:h,mentionables:r,threadPosition:null,messageMeta:A,submitText:(0,_.t)("comments.reply"),placeholderText:(0,_.t)("comments.reply"),setHyperlinkLocation:G,hyperlinkLocation:W,setHyperlinkEditorRef:V,onCancel:o.lQ,onSubmit:()=>{P({threadId:f,threadUuid:X.uuid||void 0,uuid:(0,c.g)()})},onComposeFocus:void 0,editorOnInsert:x.editorOnClear,editorOnClear:x.editorOnInsert,viewportPositionFromClientPosition:$,isDisabled:!1,mountInputFocused:!0,updateMessage:F,setIsEditorFocused:o.lQ,isEmojiPickerDisabled:null!==v,hideEmojiPicker:!1,allowAttachments:!1,recordingKey:T.Dw.quickReply,className:O.MJ,threadId:f,fileKey:m,editingExistingComment:!1,editorType:"comment-editor-reply",authorNames:J,replyContainerRef:z}),n.createElement(w.rf,{decoratorsRef:U,onClear:x.onClear,onInsert:x.onInsert,width:Q,direction:D.ri.UPWARDS,positionFromBottom:{left:Y,bottom:q}}),n.createElement(M,null)):null}},368361:(e,t,i)=>{i.d(t,{R:()=>J});var n=i(411855),l=i(188507),a=i(776250),r=i(540193),o=i(201888),c=i(517333),s=i(799569),d=i(946689),_=i(493323),u=i(827586),m=i(939863),E=i(410424),p=i(74021),f=i(941381),g=i(225266),h=i(446686),v=i(442597),b=i(944682),N=i(662275),I=i(445092),T=i(115826),R=i(756085),w=i(27703),k=i(860178),y=i(820642),C=i(99506),D=i(691205),S=i(596607),O=i(555328),A=i(813408),P=i(754168),F=i(237870),L=i(488578),x=i(548593),U=i(761939),M=i(933464),B=i(133648),H=i(227565);let W=(0,x.rw)();function G(e){let[t,i]=n.useState();return n.useEffect(()=>{(0,o.oU)(location.href).then(e=>i(e))},[]),n.createElement("div",{className:H.bx},n.createElement("div",{className:H.Uz},e.tab===U.gr.PLUGINS?(0,m.t)("community.universal_posting_modal.desktop_callout.plugins"):(0,m.t)("community.universal_posting_modal.desktop_callout.widgets")),n.createElement(d.N_,{onClick:()=>{(0,a.sx)(t?"community_publish_open_desktop_clicked":"community_publish_get_desktop_clicked",{resourceType:e.tab===U.gr.PLUGINS?O.bD.PLUGIN:O.bD.WIDGET}),t&&(0,o.Sr)(location.href)},href:t?void 0:"https://www.figma.com/downloads/",className:H.nf,target:"_blank",trusted:!0},void 0===t?"":t?` ${(0,m.t)("community.universal_posting_modal.desktop_open")}`:` ${(0,m.t)("community.universal_posting_modal.desktop_get")}`))}function j(e){return e.selectedTab===U.gr.FILES?n.createElement(U.fV,{activeFileKey:e.activeFileKey,setActiveFile:e.setActiveFile,deselectActiveFile:e.deselectActiveFile,filterFn:e.filterFn}):e.selectedTab===U.gr.PLUGINS?n.createElement(z,{activeResource:e.activeResource,setActiveResource:e.setActiveResource,deselectActiveResource:e.deselectActiveResource}):n.createElement(V,{activeResource:e.activeResource,setActiveResource:e.setActiveResource,deselectActiveResource:e.deselectActiveResource})}function V(e){let{invitedWidgets:t,pendingReviewWidgets:i,approvedWidgets:l,developmentWidgets:a}=(0,R.E$)(),r=t=>!!e.activeResource&&("localFileId"in e.activeResource&&"localFileId"in t?e.activeResource.localFileId===t.localFileId:"id"in e.activeResource&&"id"in t?e.activeResource.id===t.id:void 0);return c.eD?t.length+i.length+l.length+a.length===0?n.createElement(U.n6,{tab:U.gr.WIDGETS}):n.createElement("div",{className:H.BA,onClick:e.deselectActiveResource,role:"presentation"},t.map(e=>n.createElement(M.sp.Tile,{key:e.id,plugin:e,containerClassName:r(e)?H.Ij:H.$z})),a.map(t=>n.createElement(M.ke.Tile,{plugin:t,onClick:i=>{i.stopPropagation(),e.setActiveResource(t)},key:t.localFileId,containerClassName:r(t)?H.Ij:H.$z,showEditorTypeIcon:!0})),[...i,...l].map(t=>n.createElement(M.tY.Tile,{key:t.id,plugin:t,onClick:i=>{i.stopPropagation(),e.setActiveResource(t)},containerClassName:r(t)?H.Ij:H.$z}))):n.createElement(G,{tab:U.gr.WIDGETS})}function z(e){let{invitedPlugins:t,pendingReviewPlugins:i,approvedPlugins:l,developmentPlugins:a}=(0,R.LR)(),r=t=>!!e.activeResource&&("localFileId"in e.activeResource&&"localFileId"in t?e.activeResource.localFileId===t.localFileId:"id"in e.activeResource&&"id"in t?e.activeResource.id===t.id:void 0);return c.eD?a.length+i.length+l.length+t.length===0?n.createElement(U.n6,{tab:U.gr.PLUGINS}):n.createElement("div",{className:H.BA,onClick:e.deselectActiveResource,role:"presentation"},t.map(e=>n.createElement(M.sp.Tile,{key:e.id,plugin:e,containerClassName:r(e)?H.Ij:H.$z})),a.map(t=>n.createElement(M.ke.Tile,{plugin:t,onClick:i=>{i.stopPropagation(),e.setActiveResource(t)},key:t.localFileId,containerClassName:r(t)?H.Ij:H.$z,showEditorTypeIcon:!0})),[...i,...l].map(t=>n.createElement(M.tY.Tile,{key:t.id,plugin:t,onClick:i=>{i.stopPropagation(),e.setActiveResource(t)},containerClassName:r(t)?H.Ij:H.$z}))):n.createElement(G,{tab:U.gr.PLUGINS})}function Q(e){return c.eD?n.createElement("div",{className:H.q5},(0,m.t)("community.universal_posting_modal.plugin_info.available",{numPlugins:e.numPlugins})):n.createElement("div",{className:H.q5},(0,m.t)("community.universal_posting_modal.plugin_info.unavailable"))}function Y(e){return c.eD?n.createElement("div",{className:H.q5},(0,m.t)("community.universal_posting_modal.widget_info.available",{numWidgets:e.numWidgets})):n.createElement("div",{className:H.q5},(0,m.t)("community.universal_posting_modal.widget_info.unavailable"))}function q(e){let t;let i=(0,l.d4)(e=>e.user.email),a=(0,l.d4)(e=>e.orgById);if((0,l.d4)(e=>(0,S.Yj)(e))){let l=e.currentOrgId&&a[e.currentOrgId]?a[e.currentOrgId].name:null;t=n.createElement("div",{className:H.Js},l&&n.createElement(n.Fragment,null,l,n.createElement("span",null,"\xa0\xb7\xa0")),i)}else t=n.createElement("div",{className:H.Js},i);return n.createElement("div",{className:H.Yk},e.selectedTab===U.gr.FILES&&(0===e.numFiles?n.createElement("div",{className:H.q5},(0,m.t)("community.universal_posting_modal.file_info.available",{numFiles:e.numFiles})):n.createElement(U.IW,{query:e.searchQuery,setQuery:e.setSearchQuery,setSearchResults:e.setSearchResults})),e.selectedTab===U.gr.PLUGINS&&n.createElement(Q,{numPlugins:e.numPlugins}),e.selectedTab===U.gr.WIDGETS&&n.createElement(Y,{numWidgets:e.numWidgets}),t)}function $(e){let t=(0,l.wA)(),i=(0,k.Pc)(),r=[],o={[U.gr.FILES]:(0,m.t)("community.view_bar.files"),[U.gr.PLUGINS]:(0,m.t)("community.view_bar.plugins"),[U.gr.WIDGETS]:(0,m.t)("community.view_bar.widgets")};return Object.keys(o).forEach(l=>{let c=o[l];r.push(n.createElement(W,{tab:l,mobileNavTabTitle:c,selectedTab:e.selectedTab,key:l,onClick:()=>{e.activeSearchQuery&&(t(I._z({})),t(I.ky())),(0,a.sx)("publish_type_changed",{userId:i.id,resourceType:c}),e.setSelectedTab(l)}},c))}),n.createElement("div",{className:H.Lm},n.createElement("div",{className:H.KE},r),n.createElement(s.s_,{className:H.g8,dispatch:()=>{(0,a.sx)("community_publish_modal",{step:T.M.CLOSED}),t(N.Ce())}}))}var K=(e=>(e[e.Fetched=0]="Fetched",e[e.Fetching=1]="Fetching",e[e.NeverFetched=2]="NeverFetched",e))(K||{});let J=(0,F.Ju)(function(e){let t=(0,k.Pc)(),i=(0,l.wA)(),o=(0,l.d4)(e=>!!e.user),c=(0,l.d4)(e=>e.currentUserOrgId),s=(0,r.ql)(c),S="loaded"===s.status,[F,x]=n.useState(2),[M,W]=n.useState({}),G=(0,R.Im)(),V=(0,w.ud)(),z=(0,R.CI)(),Q=(0,R.Dy)(),Y=Object.keys(V).length;(0,D.IT)((0,f.se)()),(0,D.IT)((0,f.fd)()),n.useEffect(()=>{i(I._z({})),o&&(i(p._J()),i(g.aq()));let e=document.body.style.overflowY;return document.body.style.overflowY="hidden",()=>{document.body.style.overflowY=e}},[]),n.useEffect(()=>{if(!S||2!==F)return;let e=s.data.map(e=>e.key);0!==e.length&&(x(1),P.S.getHubFileDuplicates({fileKeys:e}).then(e=>{W(e.data.meta),x(0)}))},[F,S,s.data]);let K=n.useCallback(e=>{let t=M[e.key],i=e.editor_type===C._Y.SLIDES;return!t&&!i},[M]),J=()=>{eo&&i(I.ky()),(0,a.sx)("community_publish_modal",{user:t.id,step:T.M.CLOSED}),i(N.Ce())},X=async e=>{await i(E.rH({fileKey:e}))},Z=async e=>{e&&(et(e),V[e.key]||i(b.yJ({file:e})),await X(e.key))},[ee,et]=n.useState(null),ei=()=>et(null),[en,el]=n.useState(null),[ea,er]=n.useState(U.gr.FILES),[eo,ec]=n.useState(""),[es,ed]=n.useState([]),e_=n.useCallback(e=>{ed(e&&e.filter(e=>K(e.model)))},[K]);if(!o)return n.createElement(n.Fragment,null);let eu=S&&0===F;return n.createElement(L.Nb,{size:"any",className:H.aq,hide:J},n.createElement($,{activeSearchQuery:eo,selectedTab:ea,setSelectedTab:er}),n.createElement(q,{selectedTab:ea,currentOrgId:c,searchQuery:eo,setSearchQuery:ec,setSearchResults:e_,numPlugins:z,numWidgets:Q,numFiles:Y}),n.createElement(u.P,{className:H.jG,hideScrollbar:!0},!eu&&n.createElement("div",{className:H.g4},n.createElement(_.kt,{size:"small"})),eo&&n.createElement(U.fp,{activeSearchQuery:eo,activeFileKey:(null==ee?void 0:ee.key)||null,setActiveFile:Z,deselectActiveFile:ei,searchResults:es}),eu&&!eo&&n.createElement(j,{selectedTab:ea,activeFileKey:(null==ee?void 0:ee.key)||null,setActiveFile:Z,deselectActiveFile:ei,activeResource:en,setActiveResource:el,deselectActiveResource:()=>el(null),filterFn:K})),n.createElement("div",{className:H.qr},n.createElement("div",{className:H.PJ},(0,m.t)("community.universal_posting_modal.footer.choose_resource"),n.createElement(d.CY,{href:"https://help.figma.com/hc/articles/360040035974-Publish-Community-files",target:"_blank",trusted:!0},(0,m.t)("community.universal_posting_modal.footer.learn_more"))),n.createElement("div",{className:H.GC},n.createElement(B.M4,{onClick:J},(0,m.t)("general.cancel")),n.createElement(B.UC,{disabled:ea===U.gr.FILES?!ee:ea===U.gr.PLUGINS||ea===U.gr.WIDGETS?!en:void 0,onClick:()=>{if(ea===U.gr.FILES)ee&&((0,a.sx)("community_publish_modal",{user:t.id,step:T.M.DETAILS,resourceType:O.bD.HUB_FILE,fileKey:ee.key,fileName:ee.name}),i((0,h.t)({fileKey:ee.key,isFullscreenOpen:!1,entryPoint:A.k2.UNIVERSAL_POSTING,canvasThumbnailPromise:(0,y.$2)(ee.key,t),source:e.source})),et(null));else if((ea===U.gr.PLUGINS||ea===U.gr.WIDGETS)&&en){let e="localFileId"in en?en:G[en.id],n=e.localFileId;(0,a.sx)("community_publish_modal",{user:t.id,step:T.M.DETAILS,resourceType:ea===U.gr.PLUGINS?O.bD.PLUGIN:O.bD.WIDGET,pluginId:e.plugin_id,pluginName:e.name,localFileId:n}),i((0,v.r)({localFileId:n,entryPoint:A.k2.UNIVERSAL_POSTING})),el(null)}}},(0,m.t)("general.next")))))},"Universal Posting Modal")},602834:(e,t,i)=>{i.d(t,{H:()=>a});var n=i(411855),l=i(860601);let a=n.createContext({shouldShowChevron:e=>!1,onClick:()=>!1,onMouseEnter:l.lQ,onMouseMove:l.lQ,onRemove:l.lQ})},151679:(e,t,i)=>{i.d(t,{_1:()=>j,_2:()=>W,Pl:()=>G,dB:()=>q,bs:()=>z,x7:()=>K,s$:()=>$,fq:()=>X});var n=i(411855),l=i(188507),a=i(296210),r=i.n(a),o=i(934480),c=i(946689),s=i(564577),d=i(574176),_=i(881388),u=i(939863),m=i(178466),E=i(67294),p=i(168039),f=i(959232),g=i(395116),h=i(977468),v=i(58024),b=i(127391),N=i(140908),I=i(602834),T=i(44173),R=i(163119);function w(e){return n.createElement("span",{className:T.k1,dangerouslySetInnerHTML:{__html:r().sanitize(e.block.html_text)}})}function k(e){let t=(0,o.UF)(e.block.emoji_shortcode)[0];return t.meta?n.createElement("span",{className:T.A9},t.unicode):n.createElement(n.Fragment,null)}function y(e){return e?e.map((e,t)=>"HtmlTextBlock"===e._block_type?n.createElement(w,{key:t,block:e}):n.createElement(k,{key:t,block:e})):[]}function C(e){let{block:t,size:i}=e;return n.createElement(h.Ro,{entity:{...t,id:t.entity_id},size:i,hideFallbackInitial:!1,shape:t.shape.toUpperCase()})}function D(e){let{block:t}=e;return n.createElement("div",{className:`${T.km} thumbnail_DEPRECATED--tileThumbnail--4kE7l`,style:{background:`url(${(0,f.A)()})`}},n.createElement("div",{className:"thumbnail_DEPRECATED--thumbnailContainer--xPcsg",style:{backgroundColor:(e=>{if(!e||0===e.alpha)return"transparent";let{red:t,green:i,blue:n,alpha:l}=e;return`rgba(${255*t|0}, ${255*i|0}, ${255*n|0}, ${l})`})(t.background_color)}},n.createElement("div",{className:"thumbnail_DEPRECATED--thumbnail--WuuvA thumbnail_DEPRECATED--baseThumbnail--8p9z4",style:{backgroundImage:`url(${t.img_url})`}})))}function S(e){let{block:t}=e;return n.createElement("div",{className:T.Ew},n.createElement("div",{className:T.km,style:{backgroundImage:`url(${t.img_url})`}}))}function O(e){let{avatars:t}=e;return 0===t.length?null:t.length>1?n.createElement("div",{className:T.EI},n.createElement("div",{className:T.uX},n.createElement(C,{block:t[1],size:E.Pf.MEDIUM})),n.createElement("div",{className:T.SH},n.createElement(C,{block:t[0],size:E.Pf.MEDIUM}))):n.createElement("div",{className:T.EI},n.createElement(C,{block:t[0],size:E.Pf.LARGE}))}function A(e){let{avatars:t,icon:i}=e;return 0===t.length?null:t.length>1?n.createElement("div",{className:T.e0},n.createElement("div",{className:T.dh},n.createElement(C,{block:t[1],size:E.Pf.MEDIUM})),n.createElement("div",{className:T.xf},n.createElement(C,{block:t[0],size:E.Pf.MEDIUM})),i&&n.createElement(P,{icon:i})):n.createElement("div",{className:T.e0},n.createElement(C,{block:t[0],size:E.Pf.LARGE}),i&&n.createElement(P,{icon:i}))}function P(e){let{icon:t}=e,i="dark"===(0,p.DP)(),l=new Set(["https://static.figma.com/uploads/fc8b3d0c889b51bd8800945089e8b473ff4d619d"]);return n.createElement("div",{className:T.Kk},"ImageThumbnailBlock"===t._block_type?n.createElement("img",{className:`${T.ni} ${!l.has(t.img_url)&&i?T.En:""}`,src:t.img_url,alt:""}):n.createElement(k,{block:t}))}function F(e){let t=(0,l.wA)(),{block:i,callbacks:a,isPrimary:r=!0}=e,o=async()=>{let e=a.buildNotificationActionRequest(i.notification_action);await e.then(({data:e})=>{if(i.hide_after_action)a.hideNotification();else if(a.followLinkIfPossible(),e.meta.updated_notification_blob){let t=e.meta.updated_notification_blob;a.updateNotification(t.notification_id,t)}},()=>{let e="resolve"===i.notification_action?(0,u.t)("user_notification.an_error_occurred_while_clicking_this_notification"):(0,u.t)("user_notification.an_error_occurred_while_removing_this_notification");t(_.s.error(e))})},s=y([i.text]);return r?n.createElement(c.$$,{className:T.xG,onClick:o},s):n.createElement(c.nR,{className:T.eD,onClick:o},s)}function L(e){let{block:t,actionBlockCallbacks:i}=e;return n.createElement("div",{className:T._u},n.createElement(F,{block:t.secondary_action,callbacks:i,isPrimary:!1}),n.createElement(F,{block:t.primary_action,callbacks:i,isPrimary:!0}))}function x(e){let{block:t,plan:i,shouldShowChevron:l}=e;switch(t._block_type){case"BodyAndThumbnailBlock":return n.createElement(U,{block:t,plan:i,shouldShowChevron:l});case"SplitlineTitleAndBodyBlock":return n.createElement(M,{block:t,shouldShowChevron:l})}}function U(e){let{block:t,plan:i,shouldShowChevron:l}=e;return n.createElement(n.Fragment,null,n.createElement("div",{className:T.hQ},n.createElement("div",{className:T.Qs},n.createElement("div",null,y(t.title)),n.createElement("div",{className:T.tJ},n.createElement("div",{className:T.FS},t.description&&n.createElement("div",{className:T.wZ},y(t.description)),n.createElement("div",{className:T.PI},i&&n.createElement(n.Fragment,null,n.createElement(b.H,{entityId:i.id.toString(),entityName:i.name,imgUrl:i.img_url||void 0}),(0,v.gN)(i.name,21),n.createElement("div",{className:T.lN},"\xb7")),n.createElement(s.h1,{date:t.created_at,style:"short"}))),l&&n.createElement("div",{className:T.Vt},n.createElement(d.B,{svg:R.A,className:T.t4}))))),(()=>{if(!t.thumbnail)return null;let e=t.thumbnail;switch(e._block_type){case"AvatarBlock":return n.createElement(C,{block:e,size:E.Pf.XLARGE});case"ImageThumbnailBlock":return n.createElement(S,{block:e});case"FileThumbnailBlock":return n.createElement(D,{block:e})}})())}function M(e){let{block:t,shouldShowChevron:i}=e;return n.createElement("div",{className:T.gJ},n.createElement("div",{className:T.SZ},n.createElement("div",{className:T.DD},y(t.title)),n.createElement(V,{createdAt:t.created_at})),n.createElement("div",{className:T.tJ},n.createElement("div",{className:T.VA},y(t.subtitle)),t.description&&n.createElement("div",{className:T.Ec},y(t.description)),i&&n.createElement("div",{className:T.aR},n.createElement("div",{className:T.Vt},n.createElement(d.B,{svg:R.A,className:T.t4})))))}function B(e){let{notification:t}=e;return(0,N.ro)()?n.createElement(H,{notification:t,children:e.children}):n.createElement("div",{className:T.sU},t.is_unread?n.createElement("div",{className:(0,g.fN)()?T.dC:T.Zm}):null,n.createElement(O,{avatars:t.avatars}),e.children)}function H(e){let{notification:t}=e;return n.createElement("div",{className:T.sU},t.is_unread?n.createElement("div",{className:(0,g.fN)()?T.FN:T.bm}):null,n.createElement(A,{avatars:t.avatars,icon:t.icon}),e.children)}function W(e){let{attachment:t,notification:i,dontShowPlanIcon:l}=e;return n.createElement(B,{notification:i},n.createElement(x,{block:t.body,plan:!0===l?void 0:i.plan}))}function G(e){let{attachment:t,notification:i,dontShowPlanIcon:l}=e,{shouldShowChevron:a}=n.useContext(I.H);return n.createElement(B,{notification:i},n.createElement(x,{block:t.body,plan:!0===l?void 0:i.plan,shouldShowChevron:a(i)}))}function j(e){let{attachment:t,notification:i,actionBlockCallbacks:l}=e;return n.createElement(n.Fragment,null,n.createElement(B,{notification:i},n.createElement(x,{block:t.body,plan:i.plan})),n.createElement(L,{block:t.actions,actionBlockCallbacks:l}))}function V(e){let{createdAt:t}=e,i=z(t),l=(0,s.Ak)(t,"narrow");if("today"!==i){let e=new Date(t),i={};i=!function(e){let t=new Date;return t.setDate(t.getDate()-365),e>=t}(e)?{month:"short",day:"numeric",year:"numeric"}:{month:"short",day:"numeric"},l=new Intl.DateTimeFormat((0,m.Gq)().getPrimaryLocale(!1),i).format(e)}return n.createElement("div",{className:T.vE},l)}function z(e){let t=new Date(e),i=new Date,n=new Date(i);return(n.setDate(i.getDate()-1),Q(t,i))?"today":Q(t,n)?"yesterday":t>=new Date(i.getFullYear(),i.getMonth(),i.getDate()-7)?"last_week":"older"}function Q(e,t){return e.getDate()===t.getDate()&&e.getMonth()===t.getMonth()&&e.getFullYear()===t.getFullYear()}var Y=(e=>(e.TODAY="today",e.YESTERDAY="yesterday",e.LAST_WEEK="last_week",e.OLDER="older",e))(Y||{});let q={today:(0,u.tx)("user_notifications.today"),yesterday:(0,u.tx)("user_notifications.yesterday"),last_week:(0,u.tx)("user_notifications.last_7_days"),older:(0,u.tx)("user_notifications.older")};function $(e){return e.preferred_attachments.length>0&&"ActionableAttachment"===e.preferred_attachments[0]._block_type}function K(e){return $(e)?"actionable":"actioned"}var J=(e=>(e.ACTIONABLE="actionable",e.ACTIONED="actioned",e))(J||{});let X={actionable:(0,u.tx)("user_notifications.pending"),actioned:(0,u.tx)("user_notifications.done")}},732695:(e,t,i)=>{i.d(t,{td:()=>M,IP:()=>W,fd:()=>n,he:()=>H,ql:()=>B});var n,l=i(411855),a=i(188507),r=i(629019),o=i.n(r),c=i(297666),s=i(517333),d=i(179479),_=i(358145),u=i(27087),m=i(946689),E=i(493323),p=i(827586),f=i(939863),g=i(392592),h=i(738269),v=i(988022),b=i(860178),N=i(395116),I=i(369351),T=i(58024),R=i(140908),w=i(151679),k=i(183641),y=i(241809),C=i(248521),D=i(966712),S=i(860601),O=i(572206),A=i(749336),P=i(602834),F=i(561899);let L=class e{constructor(){this.circularBuffer=new y.C(e.BUFFER_CAPACITY),this.lastTimestamp=0}clear(){this.circularBuffer.clear()}push(t,i){i-this.lastTimestamp>e.THROTTLE_DURATION_MS&&(this.circularBuffer.push(t),this.lastTimestamp=i)}getLocation50msAgo(){let e=this.circularBuffer.toArray();return e.length>0?e[0]:new O.Mi(window.innerWidth,window.innerHeight)}};function x(e){var t,i;let[n,a]=(0,l.useState)(null),[r,o]=(0,l.useState)(0),c=l.useRef(S.lQ),s=l.useRef(S.lQ),d=l.useRef(null),_=l.useRef(null),u=(0,R.ro)(),m=l.useRef({notificationId:"",mouseLocationHistory:new L,scheduledShowQuickReply:void 0,scheduledMarkAsRead:void 0});(0,l.useEffect)(()=>{_.current&&_.current.addEventListener("mouseover",e=>{var t;clearTimeout(null==(t=m.current)?void 0:t.scheduledShowQuickReply)})},[n]);let E=()=>{var e;clearTimeout(null==(e=m.current)?void 0:e.scheduledMarkAsRead),m.current.scheduledMarkAsRead=setTimeout(()=>{s.current=c.current},1e3)},p=l.useMemo(()=>{function e(e,t,i){let n=window.innerWidth>900&&window.innerHeight>650;m.current.notificationId=e.notification_id,n&&(0,F.UC)(e)?(a((0,F.AS)(e)),o(t),c.current=i):(a(null),c.current=S.lQ),m.current.mouseLocationHistory.clear()}return{shouldShowChevron:()=>!1,onClick:e=>!1,onMouseEnter:(t,i,n)=>{var l,a,r;let o=!1;if(i.notification_id!==m.current.notificationId&&_.current){let e=_.current.getBoundingClientRect(),i=new O.Mi(e.left,e.top),n=new O.Mi(e.left,e.bottom),l=[m.current.mouseLocationHistory.getLocation50msAgo(),i,n];o=(0,C.y)(new O.Mi(t.clientX,t.clientY),l)}let c=t.target;o?(a=()=>{e(i,c.getBoundingClientRect().bottom,n)},clearTimeout(null==(r=m.current)?void 0:r.scheduledShowQuickReply),m.current&&(m.current.scheduledShowQuickReply=setTimeout(a,500))):(clearTimeout(null==(l=m.current)?void 0:l.scheduledShowQuickReply),e(i,c.getBoundingClientRect().bottom,n))},onMouseMove:e=>{m.current.mouseLocationHistory.push(new O.Mi(e.clientX,e.clientY),e.timeStamp)},onRemove:e=>{e.notification_id===m.current.notificationId&&a(null)}}},[_]);if(!((0,D.kc)().desktop_quickreply_filebrowser&&u))return l.createElement(l.Fragment,null,e.children);let f=Math.max(0,r-((null==(t=d.current)?void 0:t.getBoundingClientRect().y)??0)-((null==(i=_.current)?void 0:i.getBoundingClientRect().height)??640));return l.createElement(l.Fragment,null,l.createElement("div",{className:"quick_reply_switcher--hoverContainer--XEskB",ref:d},n&&l.createElement("div",{className:"quick_reply_switcher--quickReplyContainer--3Xnku",style:{top:f,maxHeight:640,minHeight:450},onMouseEnter:()=>{E()},onMouseLeave:()=>{var e;clearTimeout(null==(e=m.current)?void 0:e.scheduledMarkAsRead),s.current(),s.current=S.lQ,c.current=S.lQ}},l.createElement(A.d,{quickReplyInfo:n,onClose:()=>a(null),closeIcon:"x-32",hideOverflowMenu:!0,ref:_}))),l.createElement(P.H.Provider,{value:p},e.children))}L.BUFFER_CAPACITY=10,L.DESIRED_DURATION_MS=50,L.THROTTLE_DURATION_MS=L.DESIRED_DURATION_MS/L.BUFFER_CAPACITY;var U=i(391758);let M="-1";function B(e,t){let i=(0,a.wA)(),n=(0,a.d4)(e=>e.user.id),r=(0,a.d4)(e=>e.user.community_profile_id),o=(0,a.d4)(e=>{var t;return null==(t=e.authedUsers.byId[n])?void 0:t.plans}),_=l.useMemo(()=>void 0===o?new Map:new Map(o.map(e=>[e.plan_id,e.is_org])),[o]),m=(0,a.d4)(e=>e.userNotifications.userBellStates),E=(0,a.d4)(e=>e.userNotifications.communityProfileBellStates),p=(0,a.d4)(e=>e.selectedView.view),[v,b]=(0,l.useState)(new Map),[T,w]=(0,l.useState)(!0),[k,y]=(0,l.useState)(!1),C=(0,R.Ow)(),D=(0,d.F)(E),S=(0,d.F)(m);l.useEffect(()=>{let l=(0,c.s)(()=>{var l,a;e?r&&(D.current[r]&&i((0,N.X2)({isBellStateHigh:!1,userInitiated:!0,profileId:r})),I.sr.getCommunityServerDriven({currentView:p}).then(({data:e})=>{O(e.meta)}).catch(e=>{i(g.F.enqueue({message:(0,f.t)("user_notification.an_error_occurred_while_fetching_your_community_notifications"),type:"user-notification",error:!0})),i(h.oB())})):((null==(a=null==(l=S.current)?void 0:l[n])?void 0:a[M])&&i((0,N.Zo)({isBellStateHigh:!1,userInitiated:!0,notificationSpaceId:M,userId:n})),I.sr.getServerDrivenPlan({currentPlanId:t,currentView:p,isPlanOrg:_.get(t)||!1}).then(({data:e})=>{O(e.meta)}).catch(e=>{i(g.F.enqueue({message:(0,f.t)("user_notification.an_error_occurred_while_fetching_your_notifications"),type:"user-notification",error:!0})),i(h.oB())}))},800,!0);w(!0),l()},[t,D,p,i,e,S,_,r,n]);let O=e=>{let t=new Map,i=!1;e.forEach(e=>{t.set(e.notification_id,e),!i&&e.filters.is_priority&&(i=!0)}),y(i),b(t),w(!1)},A=l.useMemo(()=>{if(C){let e=(0,N.Dd)();return T||k||"priority"!==e||((0,N.hI)("all"),e="all"),e}return"all"},[k,C,T]);return{notificationFeedMap:v,isFetchingNotifications:T,initFilter:A,markAllAsReadFn:()=>{(e?u.Ay.post("/api/user_notifications/community/mark_read",{currentView:p,source:s.S8?"desktopbell":"web"}):u.Ay.post("/api/user_notifications/mark_read/plan",{current_plan_id:t,currentView:p,is_plan_org:_.get(t)||!1,source:s.S8?"desktopbell":"web"})).then(()=>{b(new Map(Array.from(v,([e,t])=>(t.is_unread=!1,[e,t]))))}).catch(()=>{i(g.F.enqueue({message:(0,f.t)("user_notification.an_error_occurred_marking_all_as_read"),type:"user-notification",error:!0}))})},updateNotification:(e,t)=>{b(new Map(v.set(e,t)))}}}function H(e,t){return e.filter(e=>!t.includes(e.notification_id))}function W(e){let t;let[i,a]=(0,l.useState)(M),{notificationFeedMap:r,isFetchingNotifications:c,markAllAsReadFn:s,updateNotification:d,initFilter:u}=B(!!e.inCommunity,i),[m,E]=(0,l.useState)([]),[p,f]=(0,l.useState)(u),g=(0,_.ZC)(p),h=(0,R.ro)(),b=H([...r.values()],m);l.useEffect(()=>{f(u)},[u]),l.useEffect(()=>{let e=(0,N.Dd)();p!==g&&p===e&&(0,v.qD)({name:"user_notifications_filter_viewed",filter_type:p,dropdown_location:"web"})},[g,p]);let I=e=>{e.stopPropagation()},w=e=>{e===T.aT&&(e=M),(0,v.FE)(e,"notifications",void 0),a(e)};switch(p){case"unread":t=b.filter(e=>e.is_unread);break;case"priority":t=b.filter(e=>e.filters.is_priority);break;default:t=b}return l.createElement("div",{className:o()(0!==r.size||c?U.P2:U.pg,e.containerClassName,{[U.Uz]:e.arrowRight}),onMouseDown:I,onClick:I},l.createElement(x,null,l.createElement(n.Header,{selectedPlan:i,onPlanFilterUpdate:e=>w(e),inCommunity:!!e.inCommunity,showMarkAllAsRead:G(c,b)&&!h,markAllAsReadFn:s}),!!h&&l.createElement(n.FilterToggle,{notificationFilter:p,toggleNotificationFilter:e=>{(0,v.Cu)({filter_type:e},"user_notifications_filter_clicked"),(0,N.hI)(e),f(e)},isFetchingNotifications:c,notifications:b,markAllAsReadFn:s}),l.createElement(n.Feed,{notifications:t,currentPlanFilter:i===M?T.aT:i,currentNotificationFilter:p,hiddenNotificationIds:m,setHiddenNotificationIds:E,isFetchingNotifications:c,inCommunity:e.inCommunity,fillParent:!1,updateNotificationCallback:d})))}function G(e,t){return!e&&t.some(e=>e.is_unread)}(e=>{function t(e){return(0,R.ro)()?l.createElement("div",{className:U.sJ},w.dB[e.notificationDateGroup]):null}function i(e){return(0,R.Ow)()?l.createElement("div",{className:U.sJ},w.fq[e.notificationPriorityGroup]):null}e.Feed=function(e){var n,r;let o=(0,b.Pc)(),c=(0,a.d4)(e=>{var t;return o?null==(t=e.authedUsers.byId[o.id])?void 0:t.plans:null}),s=t=>{e.setHiddenNotificationIds([...e.hiddenNotificationIds,t])},d=!1;if(o&&!e.inCommunity&&(null==c?void 0:c.length)===1&&(d=!0,e.currentPlanFilter===T.aT)){let t=c[0].plan_id;for(let i of e.notifications)if((null==(n=i.plan)?void 0:n.id.toString())!==t){d=!1;break}}if(e.isFetchingNotifications)return l.createElement("div",{className:U.g4},l.createElement(E.kt,null));if(0===e.notifications.length)return l.createElement("div",{className:U.OL},(0,f.tx)("user_notifications.dropdown.no_notifications"));{let n,a;"priority"===e.currentNotificationFilter&&e.notifications.sort((e,t)=>Number((0,w.s$)(t))-Number((0,w.s$)(e)));let o=e.inCommunity?U.jG:U.I3,c=(r=e.notifications,(0,w.bs)(r[0].preferred_attachments[0].body.created_at)===(0,w.bs)(r[r.length-1].preferred_attachments[0].body.created_at)),_=e=>{let i;let a=null;if(!c)try{i=(0,k.z)(e);let r=(0,w.bs)(i.body.created_at);r!==n&&(n=r,a=l.createElement(t,{key:`date-${e.notification_id}`,notificationDateGroup:r}))}catch(e){console.error("Skipping date header, unsupported notification")}return a},u=e=>{let t=null,n=(0,w.x7)(e);return n!==a&&(a=n,t=l.createElement(i,{key:`priority-${e.notification_id}`,notificationPriorityGroup:n})),t};return l.createElement(p.P,{className:`${e.fillParent?"":o}`},l.createElement("div",null,e.notifications.map(t=>{let i=null;return i="priority"===e.currentNotificationFilter?u(t):_(t),l.createElement(l.Fragment,{key:`row-container-${t.notification_id}`},i,l.createElement(k.r,{key:`row-${t.notification_id}`,notification:t,updateNotificationCallback:e.updateNotificationCallback,dontShowPlanIcon:d,currentPlanFilter:e.currentPlanFilter,currentNotificationFilter:e.currentNotificationFilter,inDesktopTray:e.inDesktopTray,onHide:()=>s(t.notification_id)}))})))}},e.UnreadBar=function(e){return G(e.isFetchingNotifications,e.notifications)?l.createElement("div",{className:U.FR},function(e){let t=e.reduce((e,t)=>e+Number(t.is_unread),0);return l.createElement("div",{className:U.gy},(0,f.t)("user_notifications.unread_count",{unreadCount:t}))}(e.notifications),G(e.isFetchingNotifications,e.notifications)&&l.createElement(m.N_,{onClick:e.markAllAsReadFn,className:U.nf,trusted:!0},(0,f.tx)("user_notifications.dropdown.mark_all_as_read"))):null},e.DateHeader=t,e.PriorityHeader=i,e.Header=function(e){return l.createElement("div",{className:U.wx},e.inCommunity?l.createElement("div",{className:U.O9},(0,f.t)("user_notification.community_notifications")):l.createElement(l.Fragment,null,l.createElement(T.jy,{currentPlanFilter:e.selectedPlan===M?T.aT:e.selectedPlan,onPlanFilterUpdate:e.onPlanFilterUpdate})),e.children,e.showMarkAllAsRead&&l.createElement(m.N_,{onClick:e.markAllAsReadFn,className:U.nf,trusted:!0},(0,f.tx)("user_notifications.dropdown.mark_all_as_read")))},e.FilterToggle=function(e){let t=(0,R.Ow)(),i=e.notifications.some(e=>e.filters.is_priority);return e.isFetchingNotifications?null:l.createElement("div",{className:U.WI},l.createElement("div",{className:U.u6},l.createElement("button",{className:o()({[U.db]:!0,[U.Ee]:"all"===e.notificationFilter}),onClick:()=>{e.toggleNotificationFilter("all")}},(0,f.t)("user_notification.all")),!!t&&i&&l.createElement("button",{className:o()({[U.db]:!0,[U.Ee]:"priority"===e.notificationFilter}),onClick:()=>{e.toggleNotificationFilter("priority")}},function(e){let t=e.reduce((e,t)=>e+Number((0,w.s$)(t)),0);return 0===t?(0,f.t)("user_notifications.requests_empty"):(0,f.t)("user_notifications.requests_toggle_count",{actionableCount:t})}(e.notifications)),l.createElement("button",{className:o()({[U.db]:!0,[U.Ee]:"unread"===e.notificationFilter}),onClick:()=>{e.toggleNotificationFilter("unread")}},function(e){let t=e.reduce((e,t)=>e+Number(t.is_unread),0);return 0===t?(0,f.t)("user_notifications.unread_empty"):(0,f.t)("user_notifications.unread_toggle_count",{unreadCount:t})}(e.notifications))),G(e.isFetchingNotifications,e.notifications)&&l.createElement(m.N_,{onClick:e.markAllAsReadFn,className:U.nf,trusted:!0},(0,f.tx)("user_notifications.dropdown.mark_all_as_read")))}})(n||(n={}))},183641:(e,t,i)=>{i.d(t,{r:()=>R,z:()=>T});var n=i(411855),l=i(188507),a=i(776250),r=i(939863),o=i(738269),c=i(507877),s=i(988022),d=i(694687),_=i(594901),u=i(707465),m=i(410613),E=i(369351),p=i(517333),f=i(737947),g=i(881388),h=i(140908),v=i(602834),b=i(151679),N=i(58024),I=i(44173);function T(e){let t=e.preferred_attachments.find(e=>m.pw.BlockKit.Block.ATTACHMENT_TYPES.has(e._block_type));if(void 0===t)throw Error(`Unable to render attachment. Hiding notification ${e.notification_id}`);return t}function R(e){let t;let i=(0,l.wA)(),[m,R]=(0,n.useState)(!1),w=(0,l.Pj)(),k=(0,d.sZ)(),y=(0,l.d4)(e=>e.selectedView.view),C=(0,_.FC)(),{onClick:D,onMouseEnter:S,onMouseMove:O,onRemove:A}=n.useContext(v.H),P=(0,h.ro)(),F=e.notification;n.useEffect(()=>()=>{A(F)},[A,F]);try{t=T(e.notification)}catch(e){return console.error(`Unsupported Notification: ${e}`),null}let L=()=>{var t;if(F.deeplink){let n=F.deeplink.href;if(n.includes("project")){let t=n.split("project/")[1];(0,s.xr)("file_browser_folder_click",t,null,C,{selectedView:"notifications",planFilterId:e.currentPlanFilter===N.aT?null:e.currentPlanFilter})}else if(n.includes("team")){let t=n.split("team/")[1];(0,s._J)("file_browser_team_click",t,C,{selectedView:"notifications",planFilterId:e.currentPlanFilter===N.aT?null:e.currentPlanFilter})}else if(n.includes("file/")){let t=n.split("file/")[1].split("/")[0];i(c.UN({fileKey:t,entrypoint:"notifications",currentPlanFilter:{planId:e.currentPlanFilter===N.aT?void 0:e.currentPlanFilter||void 0}}))}if(i(o.oB()),F.deeplink.use_unsafe)f.Ay.unsafeRedirect(n,p.eD?void 0:"_blank");else if(e.inDesktopTray)f.Ay.redirect(n);else{let e=new URL(n);try{let l=(0,u.vU)(w.getState(),e.pathname);if("teamFeed"===l.view){k&&(null==(t=F.plan)?void 0:t.id.toString())===k.id?i(o.$T(l)):f.Ay.redirect(n,p.eD?void 0:"_blank");return}f.Ay.redirect(n,p.eD?void 0:"_blank");return}catch{f.Ay.redirect(n,p.eD?void 0:"_blank")}}}},x=e=>{e.stopPropagation()},U=()=>{R(!0),e.onHide&&e.onHide()},M=(e,t=y)=>E.sr.updateNotification({notification_id:F.notification_id,notification_action:e,currentView:t});return!m&&n.createElement("div",{className:P?I.Li:I.qd,onClick:n=>{(0,a.sx)("file_browser_notification_clicked",{notification_id:F.notification_id,notification_type:F.notification_type,actionable:"ActionableAttachment"===t._block_type,selectedView:y,plan_filter:e.currentPlanFilter,notification_filter:e.currentNotificationFilter}),x(n);let l=D(F);"ActionableAttachment"!==t._block_type&&M("resolve").then(({data:t})=>{if(l||L(),t.meta.updated_notification_blob){let i=t.meta.updated_notification_blob;e.updateNotificationCallback(i.notification_id,i)}},e=>{i(g.s.error((0,r.t)("user_notification.an_error_occurred_while_clicking_this_notification")))})},onMouseDown:x,onMouseEnter:t=>{S(t,F,()=>{M("resolve",y+"_quickreply").then(({data:t})=>{if(t.meta.updated_notification_blob){let i=t.meta.updated_notification_blob;e.updateNotificationCallback(i.notification_id,i)}})})},onMouseMove:e=>{O(e)}},((t,i)=>{try{switch(t._block_type){case"ActionableAttachment":{let l={updateNotification:e.updateNotificationCallback,hideNotification:U,followLinkIfPossible:L,buildNotificationActionRequest:M};return n.createElement(b._1,{attachment:t,notification:i,actionBlockCallbacks:l})}case"ClientActionableAttachment":return n.createElement(b.Pl,{attachment:t,notification:i});case"BodyAndThumbnailAttachment":case"BodyAttachment":return n.createElement(b._2,{attachment:t,notification:i,dontShowPlanIcon:e.dontShowPlanIcon})}}catch(e){console.error(`Unable to render attachment: ${t}`),U()}})(t,F))||null}},58024:(e,t,i)=>{i.d(t,{aT:()=>p,jy:()=>g,gN:()=>f});var n=i(411855),l=i(109388),a=i(188507),r=i(268537),o=i(574176),c=i(939863),s=i(860178),d=i(720488);let _="notifs_plan_filter--boldTitle---Yao3",u="notifs_plan_filter--autoTruncate--JBaGp ellipsis--ellipsis--Tjyfa";var m=i(783423),E=i(533600);let p="ALL_PLANS_FILTER";function f(e,t){return e.length>t?e.slice(0,t-3)+"...":e}function g({currentPlanFilter:e,onPlanFilterUpdate:t}){var i;let[g,h]=n.useState(!1),v=(0,n.useRef)(null),b=(0,n.useRef)(null),N=(0,s.iZ)(),I=(0,a.d4)(e=>{var t;return N?null==(t=e.authedUsers.byId[N.id])?void 0:t.plans:null});if(!N||!I||I.length<=1)return n.createElement("span",{className:_},(0,c.t)("user_notification.all_notifications"));let T=I.map(e=>e.plan_id);T.unshift(p);let R=(e,t)=>e===p?(0,c.t)("user_notification.all_notifications"):t[e],w=I.reduce((e,t)=>(e[t.plan_id]=t.name,e),{}),k=(e,i)=>{e.stopPropagation(),t(i),h(!1)},y=T.map(t=>n.createElement(r.W.Option,{key:t,onClick:e=>{k(e,t)}},t===e&&n.createElement(o.B,{svg:E.A}),n.createElement("span",{className:`${t===e?"notifs_plan_filter--planNameChecked--DRs5Z":"notifs_plan_filter--planNameUnchecked--j9H7f"} ${u}`},R(t,w))));return n.createElement("div",{className:"notifs_plan_filter--planFilterContainer--btOEf",ref:v},n.createElement("div",null,n.createElement("button",{ref:b,onClick:()=>{h(!g)},className:"notifs_plan_filter--dropdownButton--sKKXq"},n.createElement("span",{className:[_,u].join(" ")},f(R(e,w),35)),n.createElement(o.B,{svg:m.A,className:"notifs_plan_filter--chevronIcon--WGm81"})),b.current&&g&&n.createElement(d.Cf,{targetRect:null==(i=l.findDOMNode(b.current))?void 0:i.getBoundingClientRect(),type:d.it.DEFAULT,lean:"right",minWidth:120,disableDropdownScrollContainer:!0,closeDropdown:()=>h(!1)},y)))}},706638:(e,t,i)=>{i.d(t,{P:()=>F,v:()=>S});var n=i(411855),l=i(188507),a=i(539321);if(443==i.j)var r=i(395096);var o=i(776250),c=i(358145),s=i(395900),d=i(268537),_=i(493323),u=i(135876),m=i(827586),E=i(32863),p=i(574176),f=i(939863),g=i(738269),h=i(852800),v=i(15859),b=i(318812),N=i(29680),I=i(463592),T=i(103271),R=i(406158),w=i(720488),k=i(780634);if(443==i.j)var y=i(949207);if(443==i.j)var C=i(156238);if(443==i.j)var D=i(432023);var S=(e=>(e.LOADED="post-to-feed-view-loaded",e.SELECT_NODE="post-to-feed-select-node",e))(S||{});function O(e){return n.createElement("div",{className:null!==e.isSelectedIdx?k.El:k.Vs,onClick:e.onClick,role:"button",tabIndex:0,ref:t=>{t&&e.observe(t)},"data-observer-guid":e.node.guid},n.createElement("div",{className:k.h3,style:{backgroundColor:e.backgroundColor}},n.createElement(u.x,{isLoading:!e.thumbnailUrl},()=>n.createElement("img",{className:k.xn,src:e.thumbnailUrl,alt:"",draggable:!1}))),n.createElement("div",{className:k.JO},n.createElement("div",{className:k.qp},e.node.name)),null!==e.isSelectedIdx&&1!==e.totalNumSelected&&n.createElement("div",{className:k.Jx},e.isSelectedIdx+1))}function A(e){let{toggleSelectNode:t}=e,i=(e.pageNode&&(0,a.colorToHex)(e.pageNode.backgroundColor))??"",[l,r]=n.useState(!1),o=n.useCallback(n=>{t(n,{pageId:e.pageNode.guid,pageBackgroundColor:i})},[t,e.pageNode.guid,i]);return n.createElement("div",{className:k.RW},e.showCollapsibleHeader&&n.createElement("div",{className:k.Vr,onClick:()=>r(e=>!e),role:"button",tabIndex:0},l?n.createElement(p.B,{svg:D.A,className:k.Rq}):n.createElement(p.B,{svg:y.A,className:k.Rq}),e.pageNode.name,"\xa0",n.createElement("span",{className:k.Du},"\xb7 ",e.nodes.length)),!l&&n.createElement("div",{className:k.Mc},e.nodes.map(t=>{var l,a,r;let c=(null==(l=e.selectedNodeGuids)?void 0:l.indexOf(t.guid))??null;return n.createElement(O,{key:`node-${t.guid}`,node:t,thumbnailUrl:(null==(a=e.thumbnailByGuid[t.guid])?void 0:a.url)??"",backgroundColor:i,isSelectedIdx:-1===c?null:c,onClick:()=>o(t.guid),totalNumSelected:(null==(r=e.selectedNodeGuids)?void 0:r.length)??null,observe:e.observe})})))}let P="feed-post-page-selector-menu";function F(){let e=n.useCallback((e,t)=>{let i=window.parent;window.self.origin===i.origin&&i&&i.postMessage({type:e,data:t})},[]),t=n.useRef(new s.jk("feed_post_to_file_load",{}));n.useEffect(()=>{t.current.start()},[]);let i=(0,N.aV)(),a=(0,N.eY)(),u=(0,l.d4)(e=>{var t;return null==(t=e.openFile)?void 0:t.key});n.useEffect(()=>{if(!i){t.current.stop();let i=t.current.getElapsedTime();(0,o.sx)("team_feed.post_from_file.file_load",{elapsedMs:i,fileKey:u}),e("post-to-feed-view-loaded",!0)}},[i,e,u]);let y=(0,l.d4)(e=>e.mirror.appModel.pagesList),D=n.useMemo(()=>y.reduce((e,t)=>({...e,[t.nodeId]:a.get(t.nodeId)}),{}),[y,a]),S=(0,l.wA)(),O=n.useMemo(()=>Object.values(D).flatMap(e=>e?e.uiOrderedChildren.map(t=>{let i=a.get(t);return i&&("FRAME"===i.type||"SECTION"===i.type)?{...i,pageId:e.guid,name:null==i?void 0:i.name}:null}).filter(e=>e):[]).filter(e=>null!==e),[D,a]),F=n.useMemo(()=>{let e={};for(let t of O)e[t.pageId]?e[t.pageId].push(t):e[t.pageId]=[t];return e},[O]),L=n.useMemo(()=>new I.Ef(O,{keys:["name"]}),[O]),[x,U]=n.useState(""),[M,B]=n.useState(null),[H]=(0,r.A)(x,200),W=n.useCallback(e=>{B(L.search(e))},[L]),G=n.useMemo(()=>{if(null===M)return null;let e={};for(let t of M)e[t.pageId]?e[t.pageId].push(t):e[t.pageId]=[t];return e},[M]);n.useEffect(()=>{""!==H&&W(H)},[H,W]);let j=(0,b.U)(),V=n.useRef(null),[z,Q]=n.useState(null);n.useEffect(()=>{if(z||!a||!F||0===Object.keys(F).length)return;let e=a.get(Object.keys(F)[0]);e&&Q(e)},[z,F,a]);let[Y,q]=n.useState({}),[$,K]=n.useState([]),J=(0,c.ZC)($),X=n.useRef(null),[Z,ee]=n.useState([]),et=n.useCallback(e=>{let t=[];e.forEach(e=>{var i;if(e.isIntersecting&&e.target instanceof HTMLElement){let n=null==(i=e.target.dataset)?void 0:i.observerGuid;n&&t.push(n)}}),ee(t)},[]),ei=n.useMemo(()=>new IntersectionObserver(et,{threshold:[.25]}),[et]),en=n.useCallback(e=>{ei&&ei.observe(e)},[ei]),[el,ea]=n.useState({});n.useEffect(()=>{if(0===Z.length)return;let e=Z.filter(e=>!el[e]);0!==e.length&&(0,v.Jr)().loadAllImagesUnder(e,h.MoD.NON_ANIMATED_ONLY,"feed.postFromFile").then(()=>{e.forEach(e=>{setTimeout(()=>{ea(t=>{if(t[e])return t;let i=(0,R.BO)(e);return{...t,[e]:{url:URL.createObjectURL(new Blob([i])),data:i}}})},0)})})},[Z,el]),n.useEffect(()=>{$!==J&&e("post-to-feed-select-node",$.map(e=>({guid:e,thumbnail:el[e].data,backgroundColor:Y[e]})))},[J,$,e,el,Y]);let er=n.useCallback((e,t)=>{el[e]&&(q(i=>t.pageBackgroundColor?{...i,[e]:t.pageBackgroundColor}:i),K(t=>t.includes(e)?t.filter(t=>e!==t):t.length>=T.e3?t:[...t,e]))},[el]);return F&&0===Object.keys(F).length?n.createElement("div",{className:k.se},(0,f.t)("fig_feed.no_top_level_nodes")):z?n.createElement("div",{className:k.kL},n.createElement("div",{className:k.Y},n.createElement(E.IW,{query:x,className:k.ON,onChange:U,clearSearch:()=>{U(""),B(null)},focusOnMount:!1,iconClassName:k.qc,placeholder:(0,f.t)("fig_feed.search_frames")}),""===x&&n.createElement(n.Fragment,null,n.createElement("div",{role:"button",ref:V,onClick:()=>{(null==j?void 0:j.type)===P?S(g.oB()):S(g.j7({type:P}))},tabIndex:0,className:k.YZ},n.createElement("div",null,z.name),n.createElement(p.B,{svg:C.A,width:"8px",autosize:!0})),V.current&&(null==j?void 0:j.type)===P&&n.createElement(w.Cf,{showPoint:!1,targetRect:V.current.getBoundingClientRect(),propagateCloseClick:!0},Object.keys(F).map(e=>n.createElement(d.W.CheckableOption,{key:e,onClick:()=>Q(D[e]),checked:z.guid===e},D[e].name))))),n.createElement(m.P,{hideScrollbar:!0,className:k.jG,innerClassName:k.hu,scrollContainerRef:X},""===x&&n.createElement(A,{pageNode:z,nodes:F[z.guid]||[],thumbnailByGuid:el,selectedNodeGuids:$,toggleSelectNode:er,observe:en}),""!==x&&(null===G?n.createElement("div",{className:k.Do},n.createElement(_.kt,{size:"large"})):Object.entries(G).length>0?Object.entries(G).map(([e,t])=>n.createElement(A,{key:e,pageNode:D[e],nodes:t,thumbnailByGuid:el,selectedNodeGuids:$,toggleSelectNode:er,showCollapsibleHeader:!0,observe:en})):n.createElement("div",{className:k.Lp},n.createElement("div",null,(0,f.tx)("fig_feed.no_frames_matching",{searchQuery:n.createElement(n.Fragment,null,n.createElement("span",{className:k.ZF},x))})))))):null}},850435:(e,t,i)=>{i.d(t,{n:()=>d});var n=i(188507),l=i(966712),a=i(499737),r=i(694687),o=i(594901),c=i(279453),s=i(872429);function d(e){var t,i,d;let _=(0,l.kc)().omnicreate_button_permissions,u=(0,n.d4)(e=>e.currentUserOrgId),m=(0,r.sZ)(),E=!!(null==m?void 0:m.is_slides_disabled),p=(0,o.Xx)(u),f=(0,s.sy)(),g=(0,a.Rs)(c.L8O,{projectId:e},{enabled:!!e&&_}).transform(({project:e})=>e);return _?{isLoading:"loading"===g.status,canCreateDesignFile:!!(null==(t=g.data)?void 0:t.canCreateDesignFile),canCreateFigjamFile:!!(null==(i=g.data)?void 0:i.canCreateFigjamFile),canCreateSlidesFile:!!(null==(d=g.data)?void 0:d.canCreateSlidesFile),canShowCreateSitesFile:f}:{isLoading:!1,canCreateDesignFile:!0,canCreateFigjamFile:!p,canCreateSlidesFile:!E,canShowCreateSitesFile:f}}},636967:(e,t,i)=>{i.d(t,{X8:()=>U,$c:()=>F,lX:()=>x});var n=i(411855),l=i(188507),a=i(115630),r=i(629019),o=i.n(r),c=i(499737),s=i(860601),d=i(313496),_=i(574176),u=i(762638),m=i(939863),E=i(67294),p=i(134279),f=i(896474),g=i(809840),h=i(738269),v=i(119198),b=i(662275),N=i(672517),I=i(988022),T=i(860178),R=i(99506),w=i(279453),k=i(741477),y=i(984968),C=i(945020),D=i(851363),S=i(206074),O=i(720488),A=i(873327),P=i(875531),F=(e=>(e.DESIGN="FILE_CREATION_DROPDOWN_DESIGN",e.WHITEBOARD="FILE_CREATION_DROPDOWN_WHITEBOARD",e.SLIDES="FILE_CREATION_DROPDOWN_SLIDES",e.DESKTOP_NEW_TAB="FILE_CREATION_DROPDOWN_DESKTOP_NEW_TAB",e))(F||{});let L={FILE_CREATION_DROPDOWN_DESIGN:"design",FILE_CREATION_DROPDOWN_WHITEBOARD:"whiteboard",FILE_CREATION_DROPDOWN_SLIDES:"piper"};function x(){let e=(0,c.Rs)(w._Dk,{orgId:null});if("loaded"!==e.status)return null;{let{teamEditRoles:t}=e.data.currentUser;return t.map(e=>e.team).filter(e=>!!(e&&e.projects&&!e.deletedAt&&e.isStarterTeam&&e.projects.length>0))}}function U({buttonText:e,dataTestId:t,currentDropdownType:i,teamsWithEditableProjects:r,hideOnDesktop:c,hideOnMobile:_,onSelectOverride:E}){var p;let f=(0,l.wA)(),g=(0,l.d4)((0,k.E)(i)),v=n.useRef(null),b=[{displayText:(0,m.t)("file_browser.tool_bar.file_creation_dropdown_display_text"),preventDismissOnSelected:!0,render:()=>n.createElement(M,{teamsWithEditableProjects:r,currentDropdownType:i,onSelectOverride:E,dispatch:f})}],I="FILE_CREATION_DROPDOWN_DESKTOP_NEW_TAB"===i,T=n.createElement(n.Fragment,null,n.createElement(d.g,{buttonClassName:o()(u.cx.flex.itemsCenter.justifyCenter.$,I?"file_creation_dropdown--newFileDropdown--lq76d file_creation_dropdown--newFileToolbarDropdown--7cOhM":"file_creation_dropdown--newFileBrandDropdown--nUf8p file_creation_dropdown--newFileToolbarDropdown--7cOhM",{"file_creation_dropdown--hideOnDesktop--Wz3cb":c,"file_creation_dropdown--hideOnMobile--dDtxr":_}),dataTestId:t,isShowingDropdown:!1,isOnBrandColor:!I,onClick:()=>{g||f(h.j7({type:i}))},ref:v},e),v.current&&g&&n.createElement(N.fu,{name:"File Creation Dropdown Display",properties:{fileCreationDefaultsDropdownType:i}},n.createElement("div",{className:u.cx.if(!I,u.cx.fixed).$},n.createElement(S.j,{showPoint:!0,lean:"center",type:O.it.MATCH_BACKGROUND,rootAndSubmenuMaxWidth:224,minWidth:224,autoHeight:!0,onSelectItem:s.lQ,hidePointWhenContentOffScreen:!0,items:b,parentRect:null==(p=v.current)?void 0:p.getBoundingClientRect(),dispatch:f}))));if(!I){let e=L[i];return n.createElement(a.v,{mode:e},T)}return T}function M({teamsWithEditableProjects:e,currentDropdownType:t,modal:i,onSelectOverride:l,dispatch:a}){let r=(0,A.Bq)(),o=(0,T.TA)(),[c,s]=n.useState(!1),d=(e,n)=>{i?a(b.Lo()):a(h.oB()),a(v.zE({state:r,editorType:B[t],team:e?(0,D.Z_)(e):void 0,folderId:n,from:C.f6.FILE_BROWSER_TOPBAR_RECENTS,openNewFileIn:C.ai.SAME_TAB,callback:e=>{(0,I.Cu)({userId:o,fileKey:e},H[t])},inFileCreationDefaultsExp:!0}))},N=e=>()=>{l?(l(e),a(h.oB())):d(null==e?void 0:e.team,null==e?void 0:e.project.id)},R=n.useMemo(()=>c?e:e.slice(0,3),[c,e]),w=(e,i)=>t===e&&i;return n.createElement(n.Fragment,null,n.createElement("div",{className:i?"file_creation_dropdown--dropdownHeaderModal--ebYlT":"file_creation_dropdown--dropdownHeader--7xo8- text--fontPos11--2LvXf text--_fontBase--QdLsd"},"FILE_CREATION_DROPDOWN_DESIGN"===t?(0,m.tx)("file_browser.tool_bar.create_new_design_file_in"):"FILE_CREATION_DROPDOWN_WHITEBOARD"===t?(0,m.tx)("file_browser.tool_bar.create_new_figjam_board_in"):"FILE_CREATION_DROPDOWN_SLIDES"===t?(0,m.tx)("file_browser.tool_bar.create_new_slide_deck_in"):(0,m.tx)("desktop_new_tab.create_new_file_in")),R.map(e=>{if(e.projects&&e.projects.length>0){let i=e.projects[0];if(!({FILE_CREATION_DROPDOWN_SLIDES:w("FILE_CREATION_DROPDOWN_SLIDES",i.canCreateSlidesFile),FILE_CREATION_DROPDOWN_DESIGN:w("FILE_CREATION_DROPDOWN_DESIGN",i.canCreateDesignFile),FILE_CREATION_DROPDOWN_WHITEBOARD:w("FILE_CREATION_DROPDOWN_WHITEBOARD",i.canCreateFigjamFile),FILE_CREATION_DROPDOWN_DESKTOP_NEW_TAB:!0})[t])return null;let l=(0,D.Z_)(e),a=!({FILE_CREATION_DROPDOWN_SLIDES:(0,y.rR)(l,{type:y.sK.ADD_SLIDES_FILE}),FILE_CREATION_DROPDOWN_DESIGN:(0,y.rR)(l,{type:y.sK.ADD_DESIGN_FILE}),FILE_CREATION_DROPDOWN_WHITEBOARD:(0,y.rR)(l,{type:y.sK.ADD_FIGJAM_FILE}),FILE_CREATION_DROPDOWN_DESKTOP_NEW_TAB:!0})[t];return n.createElement(W,{key:e.id,currentDropdownType:t,folderId:e.projects[0].id,icon:n.createElement("div",{className:u.cx.h16.w16.flex.itemsCenter.justifyCenter.$},n.createElement(E.nl,{size:{imgSize:E.Pf.SMALL,fallbackSize:E.Pf.XSMALL},fallbackDisplay:p.U.HIDDEN,team:{id:e.id}})),text:n.createElement(g.E,{truncate:!0},e.name," / ",e.projects[0].path),onClick:N({team:e,project:i}),atStarterTeamFileLimit:a})}}),!c&&e.length>3&&n.createElement("div",{className:"file_creation_dropdown--seeMoreProjects--8dwNL"},n.createElement(W,{currentDropdownType:t,icon:n.createElement(_.B,{svg:P.A}),text:(0,m.tx)("file_browser.tool_bar.see_all_editable_projects",{numberOfEditableProjects:e.length}),onClick:()=>s(!c)})),n.createElement("div",{className:i?"file_creation_dropdown--horizontalDividerFull--FgQB9":"file_creation_dropdown--horizontalDivider--orhs0"}),n.createElement("div",null,n.createElement(W,{currentDropdownType:t,icon:n.createElement(f.In,{icon:"page-16"}),text:n.createElement(g.E,{truncate:!0},(0,m.tx)("sidebar.drafts")),onClick:N(null)})))}let B={FILE_CREATION_DROPDOWN_DESIGN:R._Y.DESIGN,FILE_CREATION_DROPDOWN_WHITEBOARD:R._Y.WHITEBOARD,FILE_CREATION_DROPDOWN_SLIDES:R._Y.SLIDES,FILE_CREATION_DROPDOWN_DESKTOP_NEW_TAB:R._Y.DESIGN},H={FILE_CREATION_DROPDOWN_DESIGN:"toolbar_design_created",FILE_CREATION_DROPDOWN_WHITEBOARD:"toolbar_figjam_created",FILE_CREATION_DROPDOWN_SLIDES:"toolbar_slides_created",FILE_CREATION_DROPDOWN_DESKTOP_NEW_TAB:"toolbar_file_created"};function W({icon:e,text:t,onClick:i,atStarterTeamFileLimit:l}){return n.createElement("div",{role:"link",className:"file_creation_dropdown--projectCreationListOption--8eCLi",tabIndex:0,onClick:i},n.createElement("div",{className:u.cx.flex.flexRow.wFull.overflowHidden.$},n.createElement("div",{className:u.cx.flex.itemsCenter.flexRow.gap12.wFull.overflowHidden.$},n.createElement("div",{className:u.cx.flex.w16.h16.itemsCenter.alignCenter.justifyCenter.flexShrink0.$},e),n.createElement("p",{className:u.cx.flex.flexRow.overflowHidden.flexGrow1.itemsCenter.$},t))),l&&n.createElement(f.In,{icon:"info-32"}))}},313496:(e,t,i)=>{i.d(t,{g:()=>s});var n=i(411855),l=i(629019),a=i.n(l),r=i(574176),o=i(762638),c=i(783423);let s=n.forwardRef((e,t)=>{let i=o.cx.h16.w16.ml1.flex.justifyCenter.itemsCenter.with({colorIconOnbrand:e.isOnBrandColor,colorIcon:!e.isOnBrandColor}).$;return n.createElement("button",{className:a()("dropdown_button--button--BR3bZ",e.buttonClassName,{"dropdown_button--active--ZkglI":e.isShowingDropdown}),onClick:e.onClick,ref:t,"data-testid":e.dataTestId,"aria-label":e["aria-label"]},e.children,n.createElement(r.B,{svg:c.A,className:i}))})},457215:(e,t,i)=>{i.d(t,{To:()=>o,hK:()=>r});var n=i(939863);function l(){return[{text:(0,n.t)("help_widget.collective_upsells.fullscreen.unlimited_creation"),id:"unlimited_creation"},{text:(0,n.t)("help_widget.collective_upsells.fullscreen.shared_design_systems"),id:"shared_design_systems"},{text:(0,n.t)("help_widget.collective_upsells.fullscreen.advanced_prototyping"),id:"advanced_prototyping"},{text:(0,n.t)("help_widget.collective_upsells.fullscreen.enhanced_privacy"),id:"enhanced_privacy"},{text:(0,n.t)("help_widget.collective_upsells.fullscreen.decision_making_tools"),id:"decision_making_tools"}]}function a(){return{unlimited_creation:[{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.better_organization.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.better_organization.description"),imgSrc:"https://static.figma.com/uploads/c342f4d4d591928504af7cfabbb30556617d9acb",url:"https://help.figma.com/hc/articles/1500005554982-Guide-to-files-and-projects#Projects",loadingColor:"var(--color-bg-brand-tertiary)"},{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.unlimited_files.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.unlimited_files.description"),imgSrc:"https://static.figma.com/uploads/fd06e0abcc52d324ff782bcfce9c21844ab0a946",url:"https://help.figma.com/hc/articles/1500005554982-Guide-to-files-and-projects#files",loadingColor:"var(--color-bg-brand-tertiary)"},{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.unlimited_boards.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.unlimited_boards.description"),imgSrc:"https://static.figma.com/uploads/f2009c194bd4ada5fcef6c54ea0063d7daa3627f",url:"https://help.figma.com/hc/articles/15300412458647-Explore-FigJam-files",loadingColor:"var(--color-bg-component-tertiary)"},{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.version_history.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.version_history.description"),imgSrc:"https://static.figma.com/uploads/68ef770df03dec9fa3e69f2b40df9eec6d4e6166",url:"https://help.figma.com/hc/articles/360038006754-View-a-file-s-version-history",loadingColor:"var(--color-bg-brand-tertiary)"},{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.unlimited_pages.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.unlimited_creation.unlimited_pages.description"),imgSrc:"https://static.figma.com/uploads/91999ee4abb04a50873c16d23383f724e24b13ed",url:"https://help.figma.com/hc/articles/360038511293-Create-and-manage-pages",loadingColor:"var(--color-bg-brand-tertiary)"}],shared_design_systems:[{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.shared_design_systems.component_libraries.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.shared_design_systems.component_libraries.description"),imgSrc:"https://static.figma.com/uploads/a645a186fea60ff15fd9e1878bd52ceaae425a57",url:"https://help.figma.com/hc/articles/360025508373-Publish-a-library",loadingColor:"var(--color-bg-warning-tertiary)"},{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.shared_design_systems.variable_modes.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.shared_design_systems.variable_modes.description"),imgSrc:"https://static.figma.com/uploads/1c2427045d0b2ce56265271afb85de51b7742364",url:"https://help.figma.com/hc/articles/15343816063383-Modes-for-variables",loadingColor:"var(--color-bg-warning-tertiary)"},{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.shared_design_systems.variables_in_prototyping.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.shared_design_systems.variables_in_prototyping.description"),imgSrc:"https://static.figma.com/uploads/13ec0b16486b7a7882491385ef8dff27b4046be7",url:"https://help.figma.com/hc/articles/14506587589399-Use-variables-in-prototypes",loadingColor:"var(--color-bg-warning-tertiary)"}],advanced_prototyping:[{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.advanced_prototyping.expressions.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.advanced_prototyping.expressions.description"),imgSrc:"https://static.figma.com/uploads/8aaf35d51fab3b28f40abbc1cca114bad73c6104",url:"https://help.figma.com/hc/articles/15253194385943-Use-expressions-in-prototypes",loadingColor:"var(--ramp-pink-100-light)"},{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.advanced_prototyping.conditionals.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.advanced_prototyping.conditionals.description"),imgSrc:"https://static.figma.com/uploads/d70fae15738cd8f3e03df3997823c315ef4e9d9b",url:"https://help.figma.com/hc/articles/15253220891799-Multiple-actions-and-conditionals#h_01H91GHXRHGN8K801ZZCPV99FA",loadingColor:"var(--ramp-pink-100-light)"},{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.advanced_prototyping.multiple_actions.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.advanced_prototyping.multiple_actions.description"),imgSrc:"https://static.figma.com/uploads/eed92994038b1d31ae0a6b55518a5f93bb8494c6",url:"https://help.figma.com/hc/articles/15253220891799-Multiple-actions-and-conditionals#h_01H91GHXRG38YKPARR7J436DTG",loadingColor:"var(--ramp-pink-100-light)"},{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.advanced_prototyping.video_in_prototypes.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.advanced_prototyping.video_in_prototypes.description"),imgSrc:"https://static.figma.com/uploads/72d301c7668fe485cfb7bb82e2a2e6d7cdcbaf82",url:"https://help.figma.com/hc/articles/8878274530455-Use-videos-in-prototypes",loadingColor:"var(--ramp-pink-100-light)"}],enhanced_privacy:[{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.enhanced_privacy.password_protection.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.enhanced_privacy.password_protection.description"),imgSrc:"https://static.figma.com/uploads/f0f0b3f8cdca6efd146423bd62bd6d28938bde97",url:"https://help.figma.com/hc/articles/5726720100247-Add-password-protection-to-files",loadingColor:"var(--ramp-pink-100-light)"},{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.enhanced_privacy.private_projects.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.enhanced_privacy.private_projects.description"),imgSrc:"https://static.figma.com/uploads/373e72d04adfa59a21741a98e48dcbcbf706cd34",url:"https://help.figma.com/hc/articles/13839214115607-Professional-plan-permissions#projects",loadingColor:"var(--ramp-pink-100-light)"},{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.enhanced_privacy.prototype_only_sharing.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.enhanced_privacy.prototype_only_sharing.description"),imgSrc:"https://static.figma.com/uploads/abfb7962b2a669d9bddbc39ef9ce2f11d858fcc7",url:"https://help.figma.com/hc/articles/360040531773",loadingColor:"var(--ramp-pink-100-light)"},{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.enhanced_privacy.project_transfer.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.enhanced_privacy.project_transfer.description"),imgSrc:"https://static.figma.com/uploads/a093bcd98a4261ab49ea734a6d6284cfc4ace6b9",url:"https://help.figma.com/hc/articles/10250387712407-Transfer-a-project-or-team-to-a-different-company",loadingColor:"var(--ramp-pink-100-light)"}],decision_making_tools:[{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.decision_making_tools.audio_conversations.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.decision_making_tools.audio_conversations.description"),imgSrc:"https://static.figma.com/uploads/42dacd2ef787d922ed8a0ab58dcfe3e57df42eb0",url:"https://help.figma.com/hc/articles/1500004414622-Use-audio-to-chat-with-your-team",loadingColor:"var(--ramp-pale_blue-200-light)"},{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.decision_making_tools.voting.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.decision_making_tools.voting.description"),imgSrc:"https://static.figma.com/uploads/9c0d1a0fdad559ef908062c6cbfa4703859b882e",url:"https://help.figma.com/hc/articles/9359912208663-Run-voting-sessions-in-FigJam",loadingColor:"var(--ramp-pale_blue-200-light)"},{headerText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.decision_making_tools.open_figjam_sessions.title"),descriptionText:(0,n.t)("help_widget.collective_upsells.fullscreen.card.decision_making_tools.open_figjam_sessions.description"),imgSrc:"https://static.figma.com/uploads/7b5794979bea63a4b3588a8da1ce3ebc94ee9dfc",url:"https://help.figma.com/hc/articles/4410786053911-Invite-visitors-to-an-open-session",loadingColor:"var(--ramp-pale_blue-200-light)"}]}}function r(){return{panelTabs:l(),contents:a(),panelTitle:(0,n.t)("help_widget.collective_upsells.fullscreen.panel_tab_header"),contentTitle:(0,n.t)("help_widget.collective_upsells.fullscreen.content_title"),ctaPrimaryText:(0,n.t)("help_widget.collective_upsells.fullscreen.upgrade_btn")}}function o(){return{panelTabs:l(),contents:a(),panelTitle:(0,n.t)("pro_onboarding.pro_feature_modal.as_a_professional_team_you_get"),ctaPrimaryText:(0,n.t)("pro_onboarding.pro_feature_modal.got_it")}}},476932:(e,t,i)=>{i.d(t,{n:()=>R,I:()=>b});var n=i(411855),l=i(188507),a=i(629019),r=i.n(a),o=i(711117),c=i(799569),s=i(762638),d=i(939863),_=i(175290),u=i(553015),m=i(809840),E=i(101505),p=i(672517),f=i(820113),g=i(622139),h=i(205371),v=i(488578),b=(e=>(e[e.SMALL=0]="SMALL",e[e.LARGE=1]="LARGE",e))(b||{});function N({headerText:e,descriptionText:t,imgSrc:i,loadingColor:l}){return n.createElement(_.Y,{direction:"vertical",verticalAlignItems:"start",strokeColor:"default",strokeWidth:1,cornerRadius:6,spacing:0,height:"fill-parent"},n.createElement(n.Suspense,{fallback:n.createElement("div",{className:"fullscreen_help_upsells_modal_base--cardPlaceholder--j3U6P",style:{backgroundColor:l}})},n.createElement("img",{alt:e,className:"fullscreen_help_upsells_modal_base--cardImage--HNMiP",src:i,width:189,height:146})),n.createElement("div",{className:s.cx.p12.pl10.pr10.flex.flexColumn.gap2.$},n.createElement(m.E,{fontSize:13,fontWeight:"medium",color:"default"},e),n.createElement("div",{className:s.cx.minH32.$},n.createElement(m.E,{fontSize:11,color:"secondary"},t))))}function I({isClickable:e,url:t,...i}){return e&&void 0!==t?n.createElement(p.L0,{href:t,target:"_blank",className:"fullscreen_help_upsells_modal_base--clickableCard--056mH",trackingProperties:{card:i.headerText}},n.createElement(N,{...i})):n.createElement(N,{...i})}function T(){let e=(0,f.LN)(),t=new f.vr(e);return n.createElement(_.Y,{padding:14,direction:"vertical",verticalAlignItems:"end"},n.createElement("div",{className:"fullscreen_help_upsells_modal_base--priceContainer--XWuz1"},n.createElement("div",{className:s.cx.wHalf.flex.flexColumn.gap8.$},n.createElement(m.E,{color:"design",fontSize:11,fontWeight:"semi-bold"},(0,d.tx)("help_widget.collective_upsells.fullscreen.price_title.figma_design")),n.createElement(m.E,{fontWeight:"semi-bold",fontSize:18},t.formatMoney((0,h.ok)(g.tY.ANNUAL,e)))),n.createElement("div",{className:"fullscreen_help_upsells_modal_base--priceContainerDivider--zsPMB"}),n.createElement("div",{className:s.cx.wHalf.flex.flexColumn.gap8.$},n.createElement(m.E,{color:"figjam",fontSize:11,fontWeight:"semi-bold"},(0,d.tx)("help_widget.collective_upsells.fullscreen.price_title.figjam")),n.createElement(m.E,{fontWeight:"semi-bold",fontSize:18},t.formatMoney((0,h.hH)(g.tY.ANNUAL,e))))),n.createElement("div",{className:s.cx.p4.pt0.$},n.createElement(m.E,{color:"secondary",fontSize:11},(0,d.tx)("help_widget.collective_upsells.fullscreen.price.disclaimer.seat_rename"))))}function R({panelTabs:e,panelTitle:t,modalProps:i,contentTitle:a,contents:d,ctaPrimaryText:f,clickPrimaryBtn:g,secondaryBtn:h,dismissModal:b,showPricing:N=!0,panelTitleSize:R=0,cardsClickable:w}){let[k,y]=(0,n.useState)(e[0].id),C=(0,l.wA)(),D=1===R?n.createElement("div",{className:s.cx.p16.pt14.pb36.$},n.createElement(m.E,{fontSize:18,fontWeight:"semi-bold"},t)):n.createElement("div",{className:s.cx.p16.pt14.pb4.$},n.createElement(m.E,{fontSize:13,color:"secondary"},t)),S=e.map(e=>n.createElement(p.jm,{role:"button",tabIndex:0,key:e.id,className:r()("fullscreen_help_upsells_modal_base--panelTabs--WjAUp",k===e.id&&"fullscreen_help_upsells_modal_base--panelTabsActive--cM4NL"),onClick:()=>{y(e.id)},trackingProperties:{tab:e.id,prevTab:k}},n.createElement(m.E,{fontSize:13},e.text))),O=d[k].map((e,t)=>n.createElement(I,{key:k+e.headerText+t,isClickable:w,...e}));return n.createElement(p.fu,{name:"FullscreenHelpUpsellsModalBase"},n.createElement(v.Nb,{size:900,className:"fullscreen_help_upsells_modal_base--largeModal--8j2D0",...i,hide:b},n.createElement(o.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5}},n.createElement(_.Y,{verticalAlignItems:"start",height:604,spacing:0},n.createElement(_.Y,{direction:"vertical",width:230,strokeWidth:{right:1},padding:0,spacing:0,strokeColor:"default",height:"fill-parent",verticalAlignItems:"start"},n.createElement(_.M,{minSize:16}),n.createElement(_.Y,{direction:"vertical",height:"fill-parent",spacing:0},t&&D,S),N&&n.createElement(T,null)),n.createElement(_.Y,{direction:"vertical",height:"fill-parent",spacing:0},n.createElement("div",{className:s.cx.pl32.pt24.pb20.$},a&&n.createElement(m.E,{fontSize:20,fontWeight:"semi-bold"},a),n.createElement(c.s_,{customStyle:{right:"8px",top:"8px"},dispatch:C,onClose:b,trackingProperties:{trackingDescriptor:E.c.CLOSE}})),n.createElement("div",{className:s.cx.wFull.hFull.overflowAuto.$},n.createElement("div",{className:s.cx.pl32.pb24.$},n.createElement(_.Y,{spacing:16,verticalAlignItems:"start",direction:"vertical"},n.createElement("div",{className:"fullscreen_help_upsells_modal_base--cardGrid--Yss71"},O)))),n.createElement(_.Y,{height:64,padding:16,horizontalAlignItems:"end",strokeColor:"default",strokeWidth:{top:1}},h,n.createElement(u.V,{variant:"primary",onClick:g},f)))))))}},112967:(e,t,i)=>{i.d(t,{A:()=>c});var n=i(411855),l=i(629019),a=i.n(l),r=i(30637),o=i(762638);function c(e){let t=n.useRef(null),i=n.useRef(null);n.useEffect(()=>{if(t.current&&!i.current&&!(0,r.Lg)()){let n=document.getElementById(e.loadingElementId);i.current=n.cloneNode(!0)??null,t.current.appendChild(i.current)}},[e.loadingElementId,t]);let l={animationDelay:`${e.delay??0}ms`};return n.createElement(n.Fragment,null,n.createElement("div",{ref:t,className:a()(e.loadingElementClassName,o.cx.eventsNone.absolute.top0.left0.right0.bottom0.overflowHidden.opacity1.$,{"loading_page--fadeOut--Ho-om":e.loaded}),style:l}),e.loaded&&e.children)}},954244:(e,t,i)=>{i.d(t,{R:()=>l});var n=i(411855);function l(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M8 6a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V9.5a.5.5 0 0 0-1 0V16a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h3a.5.5 0 0 0 0-1H8Zm9 0a5.5 5.5 0 0 0-5.5 5.5v1.793l-1.646-1.647a.5.5 0 0 0-.708.708l2.5 2.5a.5.5 0 0 0 .708 0l2.5-2.5a.5.5 0 0 0-.708-.708L12.5 13.293V11.5A4.5 4.5 0 0 1 17 7h.5a.5.5 0 0 0 0-1H17Z",clipRule:"evenodd"}))}},305821:(e,t,i)=>{i.d(t,{l:()=>l});var n=i(411855);function l(e){return n.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},n.createElement("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M7 7h10a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1Zm1.68 9H7a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v6a2 2 0 0 1-2 2h-1.68l.662 2.365a.5.5 0 0 1-.963.27L14.28 16H9.719l-.738 2.635a.5.5 0 0 1-.962-.27L8.68 16ZM8.5 8.5a1 1 0 1 0 0 2 1 1 0 0 0 0-2Zm0 3a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z",clipRule:"evenodd"}))}}}]);

//# debugId=26fd510a-058f-54a4-b564-71d42cb481c2

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/f11f9d8066c32fa096147725ce36912e7090f0ee/5468-16a3e334f84c10e0.min.js.map